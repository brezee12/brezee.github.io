var mapControlViewData = {"namespace":"Microsoft.Maps","mapControlConfig":{"overrideRenderingMode":-1,"overrideWebGL2":-1,"maxParallelImageRequests":50,"workerCount":1,"localIdeographFontFamily":"","fadeDuration":200,"collisionSymbolSpacing":true,"landmarkDealsUrl":"/maps/landmarkdeals?ypid={ypid}","defaultMapType":"r","baseMapDataSourceLayersOfInterest":["LandUse","Coast","Water","BuildingFootprints","Roads","Boundaries"],"imageryCopyrightUrlFormat":"https://dev.virtualearth.net/REST/V1/Imagery/Copyright/{mkt}/{imagerySet}/{zoom}/{minLat}/{minLon}/{maxLat}/{maxLon}?output=json&dir={heading}&jsonp={callback}&jsonso={jsonso}&key={credentials}&ml={ml}&{cmnPltParam}","beV2ImageryCopyrightUrlFormat":"https://dev.virtualearth.net/REST/V1/Imagery/Copyright/{mkt}/{productId}?jsonp={callback}&jsonso={jsonso}&key={credentials}&{cmnPltParam}","copyrightMapLayers":"B,BF","mapStyleDefinition":{"defaultStyle":"road","version":"1","addCredentials":true,"styles":[{"name":"road","styleKey":"r","copyrightImageryId":"RoadOnDemand","thumbnail":"https://r.bing.com/rp/5vwf2fARqUgF1Kp_Yxlv4QqLSXw.svg","theme":"light","mapStyleId":"33B050CC-BA4E-4350-A5B7-4171AEC234A2","url":"https://www.bing.com/maps/mapcontrol/v9/style?styleid=road&uid=22972431327434&og=2346&lang=en-US&mkt=en-WW&ur=ke&stlversion=9.27&rm={renderingMode}&hcm={contrastMode}&partner=serp&branch=experimental","contrast":[{"mode":"dark","mapStyleId":"A3A1C843-30CE-4828-984C-AD44EAF2A245","theme":"dark","thumbnail":"https://r.bing.com/rp/k8-X-m3rjBsZGHffKwVzgEJR88o.png"},{"mode":"light","mapStyleId":"51609BF5-DCD1-4D5A-8DFE-E0813DAE90A4","theme":"light","thumbnail":"https://r.bing.com/rp/k8-X-m3rjBsZGHffKwVzgEJR88o.png"}]},{"name":"hybrid","styleKey":"h","copyrightImageryId":"AerialWithLabelsOnDemand","thumbnail":"https://r.bing.com/rp/6ix1dfYqVnsXZ5loFEBwVo7iUAs.png","theme":"dark","mapStyleId":"7783FD80-C585-4AA0-9F40-F58C34171D10","url":"https://www.bing.com/maps/mapcontrol/v9/style?styleid=hybrid&uid=9372911016626&og=2346&lang=en-US&mkt=en-WW&ur=ke&stlversion=9.27&rm={renderingMode}&hcm={contrastMode}&partner=serp&branch=experimental"},{"name":"aerial","styleKey":"a","copyrightImageryId":"Aerial","thumbnail":"https://r.bing.com/rp/QgAicxxufm-2yuIbez_Litep3JQ.svg","theme":"dark","mapStyleId":"7783FD80-C585-4AA0-9F40-F58C34171D10","url":"https://www.bing.com/maps/mapcontrol/v9/style?styleid=aerial&uid=8028364907262&og=2346&lang=en-US&mkt=en-WW&ur=ke&stlversion=9.27&rm={renderingMode}&hcm={contrastMode}&partner=serp&branch=experimental"},{"name":"birdseye","styleKey":"g","copyrightImageryId":"AerialWithLabelsOnDemand","thumbnail":"https://r.bing.com/rp/XCLgbuuvC_0fT5sb55e3j1cXbDI.png","theme":"dark","mapStyleId":"7783FD80-C585-4AA0-9F40-F58C34171D10","url":"https://www.bing.com/maps/mapcontrol/v9/style?styleid=birdseye&uid=8107094678636&og=2346&lang=en-US&mkt=en-WW&ur=ke&stlversion=9.27&rm={renderingMode}&hcm={contrastMode}&partner=serp&branch=experimental"},{"name":"streetside","styleKey":"x","copyrightImageryId":"","thumbnail":"https://r.bing.com/rp/y_8b0_L0REcLlJvMsMpIevdWk2c.png","theme":"dark","mapStyleId":"33B050CC-BA4E-4350-A5B7-4171AEC234A2"}]},"logFlushIntervalInSeconds":3,"instrumentationUrl":"{origin}/fd/ls/lsp.aspx","logClientInstRequestFormatString":"<ClientInstRequest><Events>{Events}</Events></ClientInstRequest>","logClientInstEventFormatString":"<E><T>{EventType}</T><IG>{ImpressionGUID}</IG><TS>{TimeStamp}</TS><D><![CDATA[{DATA}]]></D></E>","aerialCutOffZoom":12,"locateMeViewExpirationDays":35,"locateMeHighAccuracyMeters":200,"locateMeFormCode":"S00031","writeUserLocCookie":true,"bingSettingsUrl":"/account/general?ru={returnUrl}&FORM={formCode}","defaultZoomLevel":11.0,"basemapDataMinZoom":1,"basemapDataMaxZoom":22,"landmarksMinZoom":12,"landmarksMaxZoom":22,"landmarksDataSourceLayersOfInterest":["Landmark"],"serverInstrumentationUrlFormat":"{origin}/maps/instrumentation?q={q}&feature={f}","landmarksLayerId":"Microsoft.Maps.Landmarks","landmarksVectorLayerId":"Landmark","landmarksLayerZIndex":"8050","enablePoiPrimer":true,"useOverlayQuadrants":true,"tfeDomainDynamic":"t.ssl.ak.dynamic.tiles.virtualearth.net","tfeDomainStatic":"t.ssl.ak.tiles.virtualearth.net","copyrightTermsLinkUrl":"https://www.microsoft.com/maps/assets/docs/terms.aspx","birdseyeV2MetadataUrl":"https://t.ssl.ak.tiles.virtualearth.net/tiles/cmd/BirdsEyeSceneMetaData?north={north}&south={south}&east={east}&west={west}&count=100&g=11124&dir=&ver=0","birdseyeTilesUrl":"https://t.ssl.ak.tiles.virtualearth.net/tiles/be{base4SceneId}01{birdseyeV2Quadkey}?g=11124","geoDataAPIEndpoint":"https://ak.spatial.virtualearth.net/rest/v1/data/geodata?SpatialFilter=GetBoundary({location},{lod},'{entityType}',{getAllPolygons},{getEntityMetaData},'{culture}','{userRegion}')&jsonp={callback}&$format=json&key={credentials}&{cmnPltParam}","geoDataAPISDKEndpoint":"https://sdk.virtualearth.net/geo/spatial/v1/public/Geodata?SpatialFilter=GetBoundary({location},{lod},'{entityType}',{getAllPolygons},{getEntityMetaData},'{culture}','{userRegion}')&jsonp={callback}&$format=json&key={credentials}&{cmnPltParam}","geoEntityDataAPIEndpoint":"https://ak.spatial.virtualearth.net/rest/v1/data/geodata?$filter=GetEntity({entityId}L,{lod},{getEntityMetaData},'{culture}','{userRegion}')&$format=json&key={credentials}&preferCuratedPolygons=1&{cmnPltParam}","postCodeMinLabelZoom":11,"postCodeMinPushpinZoom":14,"postCodeMaxHoverClickZoom":15,"enableClientInstrumentationIG":true,"primitivesHoverDelay":50,"maxDragonflyResourceRetry":2,"atlasEntry":"AtlasMapCoreAuto","maxTileCacheZoomLevels":3,"bingStylePicker":true,"dfKeysBeforeTilePrimer":[],"tilePrimerMaxDelay":500,"deviceClassifierV2":"v1"},"market":"en-WW","dragonflyCatalog":{"sources":{"AMLAuto":{"endpoint":"https://r.bing.com/rp/4qstaEwkLGDNRlGw7NMSfs6M_Xc.br.js"},"AtlasMapCoreAuto":{"endpoint":"https://r.bing.com/rp/kg7CbP2crvHcoK2ZUpfER7Uk1oA.br.js","dependencies":["AMLAuto"]},"AtlasMapControl":{"endpoint":"https://r.bing.com/rp/NkL-9VYkIbFoF8A0Z83uQGID5fw.br.js","dependencies":["AtlasMapCoreAuto","AtlasMapControlCss"]},"AtlasMapControlCss":{"endpoint":"https://r.bing.com/rb/3D/cir3,cc,nc/6mlleeKlF-W8Z1MphcE8JCZkzi8.css?bu=BXN8gQGaAZ4B&or=w","highContrastEndpoint":"https://r.bing.com/rb/3D/cir3,cc,nc/6mlleeKlF-W8Z1MphcE8JCZkzi8.css?bu=BXN8gQGaAZ4B&or=w","sourceType":"Stylesheet"},"MapOverlayCss":{"endpoint":"https://r.bing.com/rp/N-FoiJ7MGTsoUiZQ3he2bIrQB70.br.css","sourceType":"Stylesheet"},"MapShell":{"endpoint":"https://r.bing.com/rp/Z6TfiiFFeJxsjKLFi7siBwOSdyk.br.js","dependencies":["SharedControls"]},"BingMapStyle":{"endpoint":"https://r.bing.com/rp/bNnt5dCs_Yi2-ilKwgXwPIZpEzg.br.js","dependencies":["Delegates"]},"TrafficControl":{"endpoint":"https://r.bing.com/rp/C0CBYsciBRE67Rm3TNTQlrP_zDk.br.js","dependencies":["SharedControls","TrafficCss"]},"Delegates":{"endpoint":"https://r.bing.com/rp/escOB6hg-b2Y3chtICBSUx5csbQ.br.js","dependencies":["AtlasMapControl","PopupCss","DelegatesCss"]},"DelegatesCss":{"endpoint":"https://r.bing.com/rp/kciMK0L1nfNLvfDjPfW5_ZjLFOU.br.css","sourceType":"Stylesheet"},"Map3DControl":{"endpoint":"https://r.bing.com/rp/NeGcbSlx3Fl_moJ4FP80gCjxx2E.br.js"},"Map3DWorker":{"endpoint":"https://r.bing.com/rp/u6RvI6xcm8DlXXs-YutSHxJdVTY.br.js"},"TrafficExperiences":{"endpoint":"https://r.bing.com/rp/8ZPQbM6YzqmVnZJwtvhb45dQK1c.br.js","dependencies":["TrafficExperiencesCss","TrafficExperiencesResources","ReactBundle","DirectionsControl","D3Bundle","MomentBundle","QRCode"]},"TrafficExperiencesCss":{"endpoint":"https://r.bing.com/rp/0A3Zq4aGFm5XQdqdzOkddbUO_nI.br.css","sourceType":"Stylesheet"},"TrafficExperiencesDMCss":{"endpoint":"https://r.bing.com/rp/XjHE_b1_mtPUIMyDSGk7jqOq6mE.br.css","sourceType":"Stylesheet"},"TrafficExperiencesResources":{"endpoint":"https://r.bing.com/rp/80dwB34UhEUU5xYGtKLNCQ5vZLM.br.js"},"MapBuilderExperiences":{"endpoint":"https://r.bing.com/rp/7D4qglJqb2jswM-jCusX_nn3xss.br.js","dependencies":["MapBuilderExperiencesCss","ReactBundle","TrafficExperiencesResources","SharedControls"]},"MapBuilderExperiencesCss":{"endpoint":"https://r.bing.com/rp/DTN0yOT0NvIu6jFSyQZlTZ-scWo.br.css","sourceType":"Stylesheet"},"MapBuilderExperiencesDMCss":{"endpoint":"https://r.bing.com/rp/lBVlLH_XlDDd3xVvsI1jhouBe4g.br.css","sourceType":"Stylesheet"},"InternalControls":{"endpoint":"https://r.bing.com/rp/OJt4Ie0luSJfrCs7Mwxdcolb2ms.br.js","dependencies":["InternalControlsCss","FeedbacksCss","TaskBarCss","DataHandler","FeedbackMissingEntityCss"]},"InternalControlsCss":{"endpoint":"https://r.bing.com/rp/yYU63Iy-8QSbal5HG-sIeSMB-0I.br.css","sourceType":"Stylesheet"},"TaskBarCss":{"endpoint":"https://r.bing.com/rp/IMQepHA01TAe_4EyRoE49alOo5w.br.css","sourceType":"Stylesheet"},"CommonControlsCss":{"endpoint":"https://r.bing.com/rp/HxZFr1pnUK_FZd4bGKUPGfKfynM.br.css","highContrastEndpoint":"https://r.bing.com/rp/rMp8jwzuyLXtruOMhDoSRMBZnC8.br.css","sourceType":"Stylesheet"},"FeedbacksCss":{"endpoint":"https://r.bing.com/rp/QXahOdIWZpNhfsUcKaHNEw5W3Xg.br.css","sourceType":"Stylesheet"},"FeedbackMissingEntityCss":{"endpoint":"https://r.bing.com/rp/Dy98FJMYem973Rb50XgKI-ko_8Q.br.css","sourceType":"Stylesheet"},"TaskFramework":{"endpoint":"https://r.bing.com/rp/WYtshv15ranUcGNALh7JZ1gOrJ8.br.js","dependencies":["TaskFrameworkCss","MapDelay"]},"TaskFrameworkCss":{"endpoint":"https://r.bing.com/rp/o08pNJjYe5bAHv3Igoqgta6opeg.br.css","highContrastEndpoint":"https://r.bing.com/rp/acBNuUFsWv_390Ml8D-3Mi3WojQ.br.css","sourceType":"Stylesheet"},"SharedControls":{"endpoint":"https://r.bing.com/rp/y49EkwPjO9p4cVSivaPF40gf7Q0.br.js","dependencies":["TemplatingCssBundle","MapDelayResources","BingMapStyle","CommonControlsCss"]},"TemplatingCssBundle":{"endpoint":"https://r.bing.com/rp/UBcZKA8VxkM2JBrG8fP1onKvQl4.br.css","highContrastEndpoint":"https://r.bing.com/rb/3D/cir3,cc,nc/SlLhliAmJGHoGMZ-v6zTlbKRS-s.css?bu=ApcJnwk&or=w","sourceType":"Stylesheet"},"MapDelayResources":{"endpoint":"https://r.bing.com/rp/569ovZbN_pjgGk1gEZx2PRmliXw.br.js"},"MapDelay":{"endpoint":"https://r.bing.com/rp/yDf643hmjXLIaNrQ4yMm2YZNK-A.br.js","dependencies":["MapShell"]},"PopupCss":{"endpoint":"https://r.bing.com/rp/17Th46dH8-iJqzwLwGBaqy1Kqrk.br.css","sourceType":"Stylesheet"},"DataHandler":{"endpoint":"https://r.bing.com/rp/qWG0XDbwC9eJHea3h8lZYvm4P-k.br.js","dependencies":["TaskFramework"]},"LocalSearch":{"endpoint":"https://r.bing.com/rp/kUztussUBJBNpyO_JswpBNtjads.br.js","dependencies":["LocalSearchPrintCss","InternalControls","Base64Encoder"]},"Base64Encoder":{"endpoint":"https://r.bing.com/rp/5FbVcVko_TuW5Y8VB4_bHoFuDm8.br.js"},"LocalSearchPrintCss":{"endpoint":"https://r.bing.com/rp/Yzm2n44kF_iW7BngAQnBDOB17cc.br.css","sourceType":"Stylesheet"},"Calendar":{"endpoint":"https://r.bing.com/rp/u0C_I6P86dpW978rJCXV6p3pGhw.br.js","dependencies":["CalendarCss","MapDelay"]},"CalendarCss":{"endpoint":"https://r.bing.com/rp/MfpwwaHzWDWT44VaqpOJthER_ik.br.css","sourceType":"Stylesheet"},"CalendarDarkModeCss":{"endpoint":"https://r.bing.com/rp/yz4J7ePRyPj0qEFQm_WP1UpVUtw.br.css","sourceType":"Stylesheet"},"CollectionsResources":{"endpoint":"https://r.bing.com/rp/GMmj8A3Xz1Sw5q9t7TKdryZEmZg.br.js"},"Collections":{"endpoint":"https://r.bing.com/rp/h_b-beSme9leyRqzFxZLQ_DqQUs.br.js","dependencies":["CollectionsCss","TravelResources","CloudGraphDataManager","MyContributionsCss"]},"CollectionsCss":{"endpoint":"https://r.bing.com/rp/8kkXWqQNv7HnURvv711V6_PIna0.br.css","sourceType":"Stylesheet"},"MyContributionsCss":{"endpoint":"https://r.bing.com/rp/HML9Rh8hCd9acOYXBYoXTYR-sa4.br.css","sourceType":"Stylesheet"},"CloudGraphDataManager":{"endpoint":"https://r.bing.com/rp/BT7e4CYfFmR5Paf5fnRqd1XT-as.br.js","dependencies":["CollectionsResources","InternalControls"]},"SpatialMath":{"endpoint":"https://r.bing.com/rp/9kBntaWlz9ct9wOaBxwITsu7xik.br.js"},"DrawingTools":{"endpoint":"https://r.bing.com/rp/UudyOiAC2d16_LeMuihLnyCxpsc.br.js","dependencies":["Delegates"]},"AzureMediaPlayerJs":{"endpoint":"https://r.bing.com/rp/DrK2YL1qmkUYs9VgiLxA9cs3Udo.br.js","dependencies":["AzureMediaPlayerCss"]},"AzureMediaPlayerCss":{"endpoint":"https://amp.azure.net/libs/amp/2.3.8/skins/amp-default/azuremediaplayer.min.css","sourceType":"Stylesheet"},"AzureMapAnimation":{"endpoint":"https://r.bing.com/rp/d_DECnl7YChjUIOpOKnaps6Ty5Y.br.js","dependencies":["AtlasMapControl"]},"ReactBundle":{"endpoint":"https://r.bing.com/rp/embsdilsIHlL3Z9aj8bnbGheUyQ.br.js"},"D3Bundle":{"endpoint":"https://r.bing.com/rp/I2JNt9d_FVX3uV-hjpHusLku1ac.br.js"},"MomentBundle":{"endpoint":"https://r.bing.com/rp/31iriJa5JAunrGozJ2Wx10aM6_k.br.js"},"Birdseye":{"endpoint":"https://r.bing.com/rp/Ug6384Ao0vrxLHdFL14ubkexASw.br.js"},"Streetside":{"endpoint":"https://r.bing.com/rp/FWg4nCLieohCg9mEykOb9i0rbyE.br.js","dependencies":["StreetsideCss"]},"StreetsideCss":{"endpoint":"https://r.bing.com/rp/C-uu7wUybuLavN5Ixm1unb4Z2k0.br.css","sourceType":"Stylesheet"},"TravelResources":{"endpoint":"https://r.bing.com/rp/eWVUBPsw4kH_dnFgn0hW8oBOu9Q.br.js"},"SDS":{"endpoint":"https://r.bing.com/rp/kHB0DAM8m0z1AU5yHE7F1Thcmc4.br.js"},"DirectionsControl":{"endpoint":"https://r.bing.com/rp/1mxGgChvwD52t_7e5FDJ446eAcI.br.js","dependencies":["TrafficControl"]},"QRCode":{"endpoint":"https://r.bing.com/rp/C_Ozn5_Q_nRlQ1ONH8Fs1_0DdFA.br.js"},"Directions":{"endpoint":"https://r.bing.com/rp/jMCvg-iPT3RLjOLhC7k_W_U3--M.br.js","dependencies":["DirectionsCss","Transit","Traffic","DirectionsControl","InternalControls"]},"DirectionsCss":{"endpoint":"https://r.bing.com/rp/nK7drrEkj14qUktSKsO8_F8Q72Y.br.css","highContrastEndpoint":"https://r.bing.com/rp/dMbZ0apq2y5z0H09G6KsKbE0Dgg.br.css","sourceType":"Stylesheet"},"Traffic":{"endpoint":"https://r.bing.com/rp/RyqnJMzpGAUVUGrJ_U-os29OfUE.br.js","dependencies":["TaskFramework","TrafficControl"]},"TrafficCss":{"endpoint":"https://r.bing.com/rp/RVCxYk2oeordxYYaTyna1ZoPtoE.br.css","sourceType":"Stylesheet"},"Travel":{"endpoint":"https://r.bing.com/rp/epvw57LmFDNjuULBWW2IENHkMFs.br.js","dependencies":["TravelCss","Travel2Css","TravelResources","Directions","CloudGraphDataManager"]},"TravelCss":{"endpoint":"https://r.bing.com/rp/Ym5aoS-c_3cOyPMuft842qvouUI.br.css","sourceType":"Stylesheet"},"Travel2Css":{"endpoint":"https://r.bing.com/rp/HIf-uPismVM6Z-aD7UqIfPbB7oY.br.css","sourceType":"Stylesheet"},"Transit":{"endpoint":"https://r.bing.com/rp/oimd2wp8QMprqZlvbTA_WlwFA3A.br.js","dependencies":["TransitCss","TaskFramework"]},"TransitCss":{"endpoint":"https://r.bing.com/rp/Pbeyzjmr_cvx9rJHgkml226WxZc.br.css","sourceType":"Stylesheet"},"LocalGuide":{"endpoint":"https://r.bing.com/rp/vp1V3gOGPZx_9Rj-IdzMtNfH23o.br.js","dependencies":["LocalGuideCss","SharedControls"]},"LocalGuideCss":{"endpoint":"https://r.bing.com/rp/VQZ9HSwWoaRUx0JG13Gqu1BPxrc.br.css","sourceType":"Stylesheet"},"Mobile":{"endpoint":"https://r.bing.com/rp/R9XIaXRZnfA2i05710oJz51M_vw.br.js","dependencies":["InternalControls"]},"FlyoverData":{"endpoint":"https://r.bing.com/rp/9NoZaNGpE9j7kKA2UrwZzVZDGY4.br.js"}},"factories":{"ReverseGeocoder":{"className":"Microsoft.Maps.Internal.ReverseGeocoder","sourceKey":"AtlasMapControl","isSingleton":true},"Geocoder":{"className":"Microsoft.Maps.Internal.Geocoder","sourceKey":"AtlasMapControl","isSingleton":true},"GeochainManager":{"className":"Microsoft.Maps.Internal.GeochainManager","parameters":["ReverseGeocoder"],"sourceKey":"AtlasMapControl","isSingleton":true},"GeolocationProvider":{"className":"Microsoft.Maps.Internal.GeolocationProvider","parameters":["window","ReverseGeocoder"],"sourceKey":"AtlasMapControl","isSingleton":true},"MapShell":{"className":"Microsoft.Maps.MapShell","parameters":["container","mapContainerElementOrId","shellContainerElementOrId"],"sourceKey":"MapShell","isSingleton":true},"FlyoverDelegate":{"className":"Microsoft.Maps.Delegates.FlyoverDelegate","parameters":["AtlasMapControl"],"sourceKey":"Delegates","isSingleton":true},"MapBuilderDelegate":{"className":"Microsoft.Maps.Delegates.MapBuilderDelegate","parameters":["AtlasMapControl"],"sourceKey":"Delegates","isSingleton":true},"Landmarks3DDelegate":{"className":"Microsoft.Maps.Delegates.Landmarks3DDelegate","parameters":["AtlasMapControl"],"sourceKey":"Delegates","isSingleton":true},"MapsFeedback":{"className":"Microsoft.Maps.MapsFeedback","parameters":["MapShell","TaskBar","TaskManager","Permalink","-footerFeedback","-corpFeedback","-SlideOutMenu"],"sourceKey":"InternalControls","isSingleton":true},"FeedbackTask":{"className":"Microsoft.Maps.FeedbackTask","parameters":["ControlTemplateFactory","MapShell","MapsFeedback","GeolocationProvider","Geocoder","ReverseGeocoder","FeedbackPoiManager"],"sourceKey":"InternalControls"},"ControlsContainer":{"className":"Microsoft.Maps.Internal.ControlsContainer","parameters":["MapShell"],"sourceKey":"InternalControls","isSingleton":true},"PrintManager":{"className":"Microsoft.Maps.Internal.PrintManager","parameters":["MapShell","TaskManager"],"sourceKey":"InternalControls","isSingleton":true},"TaskBar":{"className":"Microsoft.Maps.TaskBar","parameters":["container","MapShell","ControlTemplateFactory","TaskManager"],"sourceKey":"InternalControls","isSingleton":true},"TransientLens":{"className":"Microsoft.Maps.TransientLens","parameters":["MapShell","TransientLensViewModel"],"sourceKey":"InternalControls","isSingleton":true},"TransientLensViewModel":{"className":"Microsoft.Maps.TransientLensViewModel","parameters":["MapShell","ReverseGeocoder","ControlTemplateFactory","ButtonGroupViewModel"],"sourceKey":"InternalControls"},"PoiTransientLensViewModel":{"className":"Microsoft.Maps.PoiTransientLensViewModel","parameters":["MapShell","ControlTemplateFactory","ButtonGroupViewModel"],"sourceKey":"InternalControls"},"ButtonGroupViewModel":{"className":"Microsoft.Maps.ButtonGroupViewModel","parameters":["MapShell"],"sourceKey":"InternalControls"},"DetailsPoiTransientLensViewModel":{"className":"Microsoft.Maps.DetailsPoiTransientLensViewModel","parameters":["MapShell","ControlTemplateFactory","ButtonGroupViewModel"],"sourceKey":"InternalControls"},"CollectionsPoiTransientLensViewModel":{"className":"Microsoft.Maps.CollectionsPoiTransientLensViewModel","parameters":["MapShell","ControlTemplateFactory","ButtonGroupViewModel"],"sourceKey":"InternalControls"},"ItineraryPoiTransientLensViewModel":{"className":"Microsoft.Maps.ItineraryPoiTransientLensViewModel","parameters":["MapShell","ControlTemplateFactory","ButtonGroupViewModel"],"sourceKey":"InternalControls"},"UserTipControl":{"className":"Microsoft.Maps.Internal.UserTipControl","parameters":["MapShell","title","messages","-noFade","-clickAwayToClose","-isDark","-isLinkMessage","-tipTemplate","-tipDisplayTime","-cssOverride"],"sourceKey":"InternalControls"},"Landmarks3D":{"className":"Microsoft.Maps.Landmarks3D","parameters":["Landmarks3DDelegate"],"sourceKey":"InternalControls","isSingleton":true},"Flyover":{"className":"Microsoft.Maps.Flyover","parameters":["FlyoverDelegate"],"sourceKey":"InternalControls","isSingleton":true},"MapBuilder":{"className":"Microsoft.Maps.MapBuilder","parameters":["MapBuilderDelegate","AtlasMapControl"],"sourceKey":"InternalControls","isSingleton":true},"LayoutManager":{"className":"Microsoft.Maps.LayoutManager","parameters":["MapShell","TaskManager","ControlTemplateFactory"],"sourceKey":"TaskFramework","isSingleton":true},"TaskManager":{"className":"Microsoft.Maps.TaskManager","parameters":["container","MapShell","-taskManagerOptions","-BrowserHistoryManager"],"sourceKey":"TaskFramework","isSingleton":true},"ResultsTaskPoiManager":{"className":"Microsoft.Maps.ResultsTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"RealEstatePoiManager":{"className":"Microsoft.Maps.RealEstatePoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"HotelsListingManager":{"className":"Microsoft.Maps.HotelsListingManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"DetailsTaskPoiManager":{"className":"Microsoft.Maps.DetailsTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"PolygonBoundaryManager":{"className":"Microsoft.Maps.PolygonBoundaryManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"PolygonListingTaskPoiManager":{"className":"Microsoft.Maps.PolygonListingTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"CollectionsTaskPoiManager":{"className":"Microsoft.Maps.CollectionsTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"TransitStopTaskPoiManager":{"className":"Microsoft.Maps.TransitStopTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"TransitLinePoiManager":{"className":"Microsoft.Maps.TransitLinePoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"NearbyTransitTaskPoiManager":{"className":"Microsoft.Maps.NearbyTransitTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"ItineraryTaskPoiManager":{"className":"Microsoft.Maps.ItineraryTaskPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"LocalGuideTaskPoiManager":{"className":"Microsoft.Maps.LocalGuideTaskPoiManager","parameters":["MapShell","TaskManager"],"sourceKey":"TaskFramework"},"LocalGuideL2TaskPoiManager":{"className":"Microsoft.Maps.LocalGuideL2TaskPoiManager","parameters":["MapShell","TaskManager"],"sourceKey":"TaskFramework"},"MicroPoiManager":{"className":"Microsoft.Maps.MicroPoiManager","parameters":["MapShell"],"sourceKey":"TaskFramework"},"TopicSearchPoiManager":{"className":"Microsoft.Maps.TopicSearchPoiManager","parameters":["MapShell","TaskManager"],"sourceKey":"TaskFramework"},"FeedbackPoiManager":{"className":"Microsoft.Maps.FeedbackPoiManager","parameters":["MapShell","TaskManager"],"sourceKey":"TaskFramework"},"ControlTemplate":{"className":"Microsoft.Maps.Internal.ControlTemplate","parameters":["templateText","-staticResources"],"sourceKey":"SharedControls"},"Permalink":{"className":"Microsoft.Maps.Internal.Permalink","parameters":["TaskBar","TaskManager"],"sourceKey":"MapDelay"},"BrowserHistoryManager":{"className":"Microsoft.Maps.Internal.BrowserHistoryManager","parameters":["window"],"sourceKey":"MapDelay","isSingleton":true},"GlobalDataEventHandler":{"className":"Microsoft.Maps.GlobalDataEventHandler","parameters":["container"],"sourceKey":"MapDelay","isSingleton":true},"OverlayManager":{"className":"Microsoft.Maps.Internal.OverlayManager","parameters":["MapShell"],"sourceKey":"MapDelay","isSingleton":true},"LandmarksManager":{"className":"Microsoft.Maps.Internal.LandmarksManager","parameters":["MapShell"],"sourceKey":"MapDelay","isSingleton":true},"MapFeatureHandling":{"className":"Microsoft.Maps.Internal.MapFeatureHandling","parameters":["MapShell","TaskManager"],"sourceKey":"MapDelay","isSingleton":true},"InstrumentationDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.InstrumentationDataHandler","sourceKey":"DataHandler","isSingleton":true},"LayerManagerDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.LayerManagerDataHandler","parameters":["container"],"sourceKey":"DataHandler","isSingleton":true},"PrintDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.PrintDataHandler","parameters":["PrintManager"],"sourceKey":"DataHandler","isSingleton":true},"TaskProcessDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.TaskProcessDataHandler","parameters":["container","TaskManager"],"sourceKey":"DataHandler","isSingleton":true},"TaskActivator":{"className":"Microsoft.Maps.Internal.DataHandlers.TaskActivator","parameters":["container","TaskManager"],"sourceKey":"DataHandler","isSingleton":true},"LayoutDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.LayoutDataHandler","parameters":["TaskManager","LayoutManager"],"sourceKey":"DataHandler","isSingleton":true},"ShareDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.ShareDataHandler","parameters":["MapShell","TaskBar"],"sourceKey":"DataHandler","isSingleton":true},"StreetsideDataHandler":{"className":"Microsoft.Maps.Internal.DataHandlers.StreetsideDataHandler","parameters":["MapShell"],"sourceKey":"DataHandler","isSingleton":true},"LocalSearchTask":{"className":"Microsoft.Maps.Local.LocalSearchTask","parameters":["MapShell","LocalDetailsPageProcessor","PoiTransientLensViewModel"],"sourceKey":"LocalSearch"},"LocalListingTask":{"className":"Microsoft.Maps.Local.LocalListingTask","parameters":["ControlTemplateFactory","MapShell","LocalListingPageProcessor","ResultsTaskPoiManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"LocalDetailsTask":{"className":"Microsoft.Maps.Local.LocalDetailsTask","parameters":["MapShell","LocalDetailsPageProcessor","DetailsTaskPoiManager","DetailsPoiTransientLensViewModel","ButtonGroupViewModel","ControlTemplateFactory","-TaskBar","-GeochainManager"],"sourceKey":"LocalSearch"},"LocalListingPageProcessor":{"className":"Microsoft.Maps.Local.LocalListingPageProcessor","sourceKey":"LocalSearch"},"LocalDetailsPageProcessor":{"className":"Microsoft.Maps.Local.LocalDetailsPageProcessor","sourceKey":"LocalSearch"},"RestaurantsListingTask":{"className":"Microsoft.Maps.Local.RestaurantsListingTask","parameters":["ControlTemplateFactory","MapShell","LocalListingPageProcessor","ResultsTaskPoiManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"RestaurantDetailsTask":{"className":"Microsoft.Maps.Local.RestaurantDetailsTask","parameters":["MapShell","LocalDetailsPageProcessor","DetailsTaskPoiManager","DetailsPoiTransientLensViewModel","ButtonGroupViewModel","ControlTemplateFactory","-TaskBar","-GeochainManager"],"sourceKey":"LocalSearch"},"HotelsListingTask":{"className":"Microsoft.Maps.Local.HotelsListingTask","parameters":["ControlTemplateFactory","MapShell","LocalListingPageProcessor","HotelsListingManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"HotelsDetailsTask":{"className":"Microsoft.Maps.Local.HotelsDetailsTask","parameters":["MapShell","LocalDetailsPageProcessor","DetailsTaskPoiManager","DetailsPoiTransientLensViewModel","ButtonGroupViewModel","ControlTemplateFactory","-TaskBar","-GeochainManager"],"sourceKey":"LocalSearch"},"HouseListingTask":{"className":"Microsoft.Maps.Local.HouseListingTask","parameters":["ControlTemplateFactory","MapShell","LocalListingPageProcessor","RealEstatePoiManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"HouseDetailsTask":{"className":"Microsoft.Maps.Local.HouseDetailsTask","parameters":["MapShell","LocalDetailsPageProcessor","DetailsTaskPoiManager","DetailsPoiTransientLensViewModel","ButtonGroupViewModel","ControlTemplateFactory","-TaskBar","-GeochainManager"],"sourceKey":"LocalSearch"},"PolygonListingPageProcessor":{"className":"Microsoft.Maps.Local.PolygonListingPageProcessor","sourceKey":"LocalSearch"},"PolygonListingTask":{"className":"Microsoft.Maps.Local.PolygonListingTask","parameters":["ControlTemplateFactory","MapShell","PolygonListingPageProcessor","PolygonListingTaskPoiManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"PolygonEntityDetailsTask":{"className":"Microsoft.Maps.Local.PolygonEntityDetailsTask","parameters":["MapShell","LocalDetailsPageProcessor","PolygonBoundaryManager","DetailsPoiTransientLensViewModel","ButtonGroupViewModel","ControlTemplateFactory","-TaskBar","-GeochainManager"],"sourceKey":"LocalSearch"},"TopicSearchLandingTask":{"className":"Microsoft.Maps.Local.TopicSearchLandingTask","parameters":["ControlTemplateFactory","MapShell","LocalListingPageProcessor","TopicSearchPoiManager","PoiTransientLensViewModel","TransientLens","MicroPoiManager"],"sourceKey":"LocalSearch"},"LayerManagerModule":{"className":"Microsoft.Maps.LayerManager.LayerManagerModule","parameters":["MapShell"],"sourceKey":"LocalSearch","isSingleton":true},"LayerPrimitiveContainer":{"className":"Microsoft.Maps.LayerManager.LayerPrimitiveContainer","parameters":["MapShell","layerManagerId","layerManagerOptions"],"sourceKey":"LocalSearch"},"Calendar":{"className":"Microsoft.Maps.Calendar.Calendar","parameters":["container"],"sourceKey":"Calendar","factoryType":"Javascript"},"SingleCalendar":{"className":"Microsoft.Maps.Calendar.SingleCalendar","parameters":["container"],"sourceKey":"Calendar","factoryType":"Javascript"},"CollectionsTask":{"className":"Microsoft.Maps.Collections.CollectionsTask","parameters":["MapShell","ControlTemplateFactory","GeolocationProvider","CollectionsTaskPoiManager","CollectionsPoiTransientLensViewModel","TransientLens"],"sourceKey":"Collections","isSingleton":true},"MeasureMapTask":{"className":"Microsoft.Maps.Collections.MeasureMapTask","parameters":["ControlTemplateFactory"],"sourceKey":"Collections"},"MyContributionsV3Task":{"className":"Microsoft.Maps.Collections.MyContributionsV3Task","parameters":["ControlTemplateFactory"],"sourceKey":"Collections","isSingleton":true},"AddressEditTask":{"className":"Microsoft.Maps.AddressEditTask","parameters":["ControlTemplateFactory","MapShell","ReverseGeocoder"],"sourceKey":"InternalControls","isSingleton":true},"MyContributionsAndRewardsTask":{"className":"Microsoft.Maps.Collections.MyContributionsAndRewardsTask","parameters":["ControlTemplateFactory"],"sourceKey":"Collections","isSingleton":true},"MyPlacesMobileControl":{"className":"Microsoft.Maps.Collections.MyPlacesMobileControl","parameters":["ControlTemplateFactory"],"sourceKey":"Collections","isSingleton":true},"CollectionMobileControl":{"className":"Microsoft.Maps.Collections.CollectionMobileControl","parameters":["ControlTemplateFactory"],"sourceKey":"Collections","isSingleton":true},"ItineraryDataManager":{"className":"Microsoft.Maps.CloudGraphDataManager.ItineraryDataManager","sourceKey":"CloudGraphDataManager"},"NewCollectionControl":{"className":"Microsoft.Maps.CloudGraphDataManager.NewCollectionControl","parameters":["ControlTemplateFactory"],"sourceKey":"CloudGraphDataManager"},"AutoCollectionGenerator":{"className":"Microsoft.Maps.CloudGraphDataManager.AutoCollectionGenerator","parameters":["ReverseGeocoder","SpatialMath"],"sourceKey":"CloudGraphDataManager"},"MostRecentlyUsedList":{"className":"Microsoft.Maps.CloudGraphDataManager.MostRecentlyUsedList","sourceKey":"CloudGraphDataManager"},"SaveDropdownControl":{"className":"Microsoft.Maps.CloudGraphDataManager.SaveDropdownControl","parameters":["ControlTemplateFactory"],"sourceKey":"CloudGraphDataManager"},"SpatialMath":{"className":"Microsoft.Maps.SpatialMath","sourceKey":"SpatialMath","factoryType":"reference"},"DrawingManager":{"className":"Microsoft.Maps.Internal.DrawingManager","parameters":["map","-options"],"sourceKey":"DrawingTools"},"AzureMediaPlayerJs":{"className":"","sourceKey":"AzureMediaPlayerJs","factoryType":"reference"},"AzureMapAnimation":{"className":"atlas.animations","sourceKey":"AzureMapAnimation","factoryType":"reference"},"Birdseye":{"className":"atlas.control.BirdseyeControl","sourceKey":"Birdseye","factoryType":"reference"},"Streetside":{"className":"atlas.control.StreetsideControl","sourceKey":"Streetside","factoryType":"reference"},"GeoDataAPIManager":{"className":"Microsoft.Maps.SpatialDataService.GeoDataAPIManager","sourceKey":"SDS","factoryType":"reference"},"DirectionsTask":{"className":"Microsoft.Maps.Directions.DirectionsTask","parameters":["ControlTemplateFactory","MapShell","GeolocationProvider","ReverseGeocoder","container","SpatialMath"],"sourceKey":"Directions"},"DirectionsFlipTask":{"className":"Microsoft.Maps.Directions.DirectionsFlipTask","parameters":["ControlTemplateFactory","container"],"sourceKey":"Directions"},"TrafficLegendControl":{"className":"Microsoft.Maps.Traffic.TrafficLegendControl","sourceKey":"Traffic","isSingleton":true},"TrafficLegendOverlay":{"className":"Microsoft.Maps.Traffic.TrafficLegendOverlay","parameters":["TrafficLegend"],"sourceKey":"Traffic","isSingleton":true},"TrafficLayerV2":{"className":"Microsoft.Maps.Traffic.TrafficLayerV2","parameters":["MapShell"],"sourceKey":"Traffic","isSingleton":true},"TrafficTask":{"className":"Microsoft.Maps.Traffic.TrafficTask","parameters":["ControlTemplateFactory","container","MapShell","ReverseGeocoder","Geocoder"],"sourceKey":"Traffic"},"TrafficFlipTask":{"className":"Microsoft.Maps.Traffic.TrafficFlipTask","parameters":["ControlTemplateFactory","container"],"sourceKey":"Traffic"},"ItineraryDetailsTask":{"className":"Microsoft.Maps.Travel.ItineraryDetailsTask","parameters":["ControlTemplateFactory","container","MapShell","ItineraryTaskPoiManager","ItineraryPoiTransientLensViewModel","TransientLens"],"sourceKey":"Travel"},"ItineraryListingsTask":{"className":"Microsoft.Maps.Travel.ItineraryListingsTask","parameters":["ControlTemplateFactory","container","MapShell"],"sourceKey":"Travel"},"ItineraryDetailsMobileControl":{"className":"Microsoft.Maps.Travel.ItineraryDetailsMobileControl","parameters":["ControlTemplateFactory","MapShell"],"sourceKey":"Travel","isSingleton":true},"TransitStopTask":{"className":"Microsoft.Maps.Transit.TransitStopTask","parameters":["ControlTemplateFactory","MapShell","TransitStopTaskPoiManager","ButtonGroupViewModel","container"],"sourceKey":"Transit"},"TransitLineTask":{"className":"Microsoft.Maps.Transit.TransitLineTask","parameters":["ControlTemplateFactory","MapShell","TransitLinePoiManager","container"],"sourceKey":"Transit"},"NearbyTransitTask":{"className":"Microsoft.Maps.Transit.NearbyTransitTask","parameters":["ControlTemplateFactory","MapShell","NearbyTransitTaskPoiManager","container"],"sourceKey":"Transit"},"LocalGuideBaseTask":{"className":"Microsoft.Maps.LocalGuide.LocalGuideBaseTask","parameters":["ControlTemplateFactory","MapShell","ResultsTaskPoiManager","PoiTransientLensViewModel"],"sourceKey":"LocalGuide"},"LocalGuideL2Task":{"className":"Microsoft.Maps.LocalGuide.LocalGuideL2Task","parameters":["ControlTemplateFactory","MapShell","LocalGuideL2TaskPoiManager","PoiTransientLensViewModel"],"sourceKey":"LocalGuide"},"LocalGuideTask":{"className":"Microsoft.Maps.LocalGuide.LocalGuideTask","parameters":["ControlTemplateFactory","container","MapShell","LocalGuideTaskPoiManager","TaskBar","PoiTransientLensViewModel"],"sourceKey":"LocalGuide","isSingleton":true},"FlyoverData":{"className":"","sourceKey":"FlyoverData","factoryType":"reference"}}},"globalConfigs":{"features":{"aerial":{"featureType":"Aerial","isEnabled":true},"mobileMyPlaces":{"featureType":"MobileMyPlaces"},"ordnanceSurvey":{"featureType":"OrdnanceSurvey"},"slideOutMenu":{"featureType":"SlideOutMenu"},"supportedMaps":{"featureType":"SupportedMaps"},"advertising":{"featureType":"Advertising","isEnabled":true,"enableWhyThisAd":true},"autosuggest":{"featureType":"Autosuggest","isEnabled":true,"searchBoxContainerID":"maps_sb_container","searchBoxID":"maps_sb","autoSuggestContainerID":"maps_as_container","searchBoxSubmitButtonID":"sb_form_go","autoSuggestMaxResults":5,"autoSuggestServiceHostUrlFormat":"https://{BingHostName}/api/v6/Places/AutoSuggest","autoSuggestServiceUrlFormat":"{host_url}?q={query}&appid={appid}&mv8cid={conversation_id}&mv8ig={ig}&localMapView={local_map_view}&localcircularview={user_location}&count={max_results}&structuredaddress=true&types={suggestionTypes}&setmkt={market}&setlang={lang}&histcnt={histcnt}&favcnt={favcnt}","searchTextFormat":"","sdkAutosuggestAppid":"F2DD9E3AA45F7512D9C6CA9A150CBA7F76556B81","autosuggestAppid":"D41D8CD98F00B204E9800998ECF8427E1FBE79C2","autosuggestDirectionsMaxResults":5,"autosuggestDirectionsMaxHistCount":5,"autosuggestDirectionsMaxFavCount":3,"showXSRColors":true,"showXSRIcons":true,"autosuggestSearchBoxMaxResults":5,"inPrivateLink":"/account/general?ru={0}&FORM=O2HV65","abbrSuggestions":true,"waitForCompositionEnd":true},"calendar":{"featureType":"Calendar","isEnabled":true,"gCalApiSource":"https://apis.google.com/js/client.js","gCalClientId":"967526985858-mslsiichb85bm4lj0f2eu1du5ted368j.apps.googleusercontent.com","gCalScopes":"https://www.googleapis.com/auth/calendar","gCalVersion":"v3","defaultPermalink":"/maps","enableCalendarSync":true,"saveIntoCalendar":true,"showCalendar":true,"authorizationEndpointBase":"https://login.microsoftonline.com/","authorizationEndpoint":"common/oauth2/v2.0/authorize?","apiEndpoint":"https://outlook.office.com/api/v2.0","emailEndpoint":"https://www.bing.com/maps/email","authorizationRedirectUrl":"https://www.bing.com/maps/auth","appId":"cc06fe78-ec8b-4d09-a525-a4f1fcb3ab03","scopes":"openid+https://outlook.office.com/calendars.readwrite","formCode":"BMCAL1"},"collections":{"maxAllowedCollections":300,"maxAllowedCollectionEntities":1000,"maxTimeout":10,"clientGraphUseProd":true,"returnMockFavorites":"","enablePolyshapes":true,"tabCreatorUrl":"/maps/tabCreator/?tabnames={names}","cgApiRequestOrigin":"BingMapsVertical","cgApiSchemaVersion":"1.0","cgApiUrl":"/CloudGraph/Collection/v1","retrieveAllCollectionsBag":"","retrieveCollectionBag":"","insertCollectionBag":"","updateCollectionBag":"","updateCollectionMetaBag":"","insertItemBag":"","deleteCollectionBag":"","deleteItemBag":"","emptyCollectionsBag":"","testUser":"","filteredEvents":"","retrieveAllItinerariesBag":"","retrieveItineraryBag":"","insertItineraryBag":"","updateItineraryBag":"","updateItineraryMetaBag":"","insertItineraryItemBag":"","deleteItineraryBag":"","deleteItineraryItemBag":"","enableSignedOutRefresh":true,"wideCardWidth":758,"twoColumnCardWidth":509,"contributionsCardWideWidth":732,"contributionsCardWidth":464,"thumbnailImageWidth":336,"thumbnailImageHeight":188,"maxNearbyDistance":40000,"nearHomeWorkDistance":10000,"minimumClusterSize":4,"maxIterations":12,"minThreeColumnMyPlacesWidth":1550,"newCardSizeTCF":true,"imageSizes":[122,124,236,244,248],"entityCardSizes":[236,244,248],"useJsonApiForFavorites":true,"enableSingleMyPlacesCard":true,"enableOneClickSave":true,"getMyContributionsURL":"/local/ugc/getusercontribution?count=100&first=0&filters=contribution_type%3A%22{0}%22%20sort_by%3A%22{1}%22%20sort_order%3A%22{2}%22","deleteMyContributionsUrl":"/local/ugc/deleteusercontribution?contributionId={0}","getMyRewardsUrl":"","hidePoints":true,"commuteRewardsBaseUrl":"/maps/rewards/commutePoints?source=mp","rewardsDashboardUrl":"https://rewards.microsoft.com/","rewardsPointsBreakdownUrl":"https://rewards.microsoft.com/pointsbreakdown","rewardsCommutePromotionUrl":"/maps/rewards/promoAvailable","commuteRewardsJoinUrl":"/maps/rewards/joinAndAward","rewardsTermsUrl":"https://www.microsoft.com/{market}/servicesagreement","rewardsPrivacyUrl":"https://privacy.microsoft.com/{market}/privacystatement","commuteRewardsExcludedCountries":["AT","BE","BR","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB"],"commuteRewardsExcludedUSStates":["CA"],"enableAADAccountLinking":true,"featureType":"Collections","isEnabled":true},"directions":{"isEnabled":true,"calculateRouteServiceUrl":"https://dev.virtualearth.net/REST/v1/Routes/{travelMode}?key={app_key}&o=json&jsonp={callback}&fi=true&errorDetail=true&{cmnPltParam}&","calculateTruckRouteServiceUrl":"https://dev.virtualearth.net/REST/v1/Routes/Truck?key={app_key}&{cmnPltParam}","applicationKey":"","maxRoutes":3,"maxDriveWaypoints":25,"maxTransitWaypoints":2,"maxWalkWaypoints":25,"unit":2,"roadShieldServiceUrlFormat":"https://ecn.dev.virtualearth.net/mapcontrol/roadshield.ashx?bucket={bucket}&shield={shield}&label={label}","enableTransitMode":true,"defaultMode":5,"optimize":2,"routeLayerZIndex":9100,"maxViaPoints":10,"enablePredictiveRouting":true,"specialAttributionLink":"www.thetrainline.com","enableUpdateDirectionsOnSelection":true,"enableFocusToWaypointOnAddClick":true,"transitModeFilter":true,"enableRoadShieldIconXsr":true,"maxWalkingDistance":100,"bestModeEnabled":true,"transitOBDLEnabled":true,"enableNewDiretionsAnswerAlert":true,"trafficColorRouteLine":true,"enableMultiMode":true,"distanceMatrixSecondaryKey":"DistanceMatrixSecondaryKey15June2023","enableBestModeItineraryGroups":true,"transitAppUrl":"https://bingapp.microsoft.com/bing?adjust=12h33w2p_12xos2n1","shortURLServiceUrl":"https://www.bing.com/maps/bingshort/{action}","transitOneServiceUrl":"https://www.bing.com/maps/transitlines?setmkt={market}&cp={lat},{long}&activityid={activityid}","enableTransitAppParse":true,"minZoomLevelToShowNearbyTransitLines":7,"transitMobileUpsellTextOption":1},"feedback":{"featureType":"Feedback","isEnabled":true,"emailEnabled":true,"credentials":"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im","surfApiEndpoint":"/customerfeedback/queue/full/surf","surfApiEndpointV2":"/customerfeedback/queue/full/submission","baseMapFeedbackVersion":"mapsV8-Preview","feedbackPinTipExpiry":15000,"privacyPolicyLink":"http://go.microsoft.com/fwlink/?LinkId=521839","enableLocalFeedbackForHOOTask":true,"ftwMarkets":"de-DE,en-AU,en-CA,en-GB,en-IN,en-US,es-ES,fr-FR,it-IT,ja-JP,zh-CN","autoGeocodeMissingBusinessAddressMarkets":"GB,US","readLinkUrlPrefix":"https://www.bingapis.com/api/v7/localbusinesses/","snrSearchUrlPrefix":"https://www.bingapis.com/api/v7/places/search","snrSearchAppId":"10494624087FFA87319BBD402D1ABC1760B4E505","snrSearchCount":"50","imageUrlPrefix":"https://www.bing.com","showBetaButton":true,"teolinOptOutLink":"","bingPlacesLink":"https://www.bingplaces.com/DashBoard/SearchBusiness?src=maps","shouldIgnoreSAE":true,"enableStreetsideFdbk":true,"enablePoiManager":true},"flyover":{"featureType":"Flyover","isEnabled":true,"videoUrlFormat":"https://bingmapsflyovermedia-uswe.streaming.media.azure.net/{fileLocation}/manifest","flashSsUrl":"https://amp.azure.net/libs/amp/latest/techs/StrobeMediaPlayback.2.0.swf","silverlightSsUrl":"https://amp.azure.net/libs/amp/latest/techs/SmoothStreamingPlayer.xap","isRender3DEnabled":true,"render3DDataVersionUrl":"https://landmark3dweb.azureedge.net/flyovers/version.txt","render3DAllUrlFormat":"https://landmark3dweb.azureedge.net/flyovers/{version}/_flyovers.json","minLodToShowButton":8.5},"labels":{"featureType":"Labels","isEnabled":true,"useSegoeFontStack":true,"nonItalicLabelLanguages":"zh,ja","iconTextYAdjust":0.05},"landmarks3D":{"viewerUrlFormat":"https://landmark3d.azureedge.net/?mode=control&sessionid={sessionid}&lat={latitude}&lng={longitude}&alt={elevation}&rad={radius}&pit={pitch}&name={name}&setLang={lang}&rtl={rtl}&ur={ur}&mpc=0","viewerUrlFormatWithVersion":"https://landmark3dweb.azureedge.net/release/{version}/index.html?mode=control&lat={latitude}&lng={longitude}&alt={elevation}&rad={radius}&pit={pitch}&name={name}&setLang={lang}&rtl={rtl}&class={class}&sessionid={sessionid}&ur={ur}&mpc=0","viewerVersionUrl":"https://landmark3dweb.azureedge.net/release/version.txt","backendUrlFormat":"{origin}/maps/landmark3d?ypid={ypid}","useBackend":true,"iconOffsetDefault":[-20.0,-28.0],"iconOffsetPremium":[-44.0,2.0],"popupOffsetDefault":[9.0,-44.5],"popupOffsetPremium":[-8.0,-24.0],"featureType":"Landmarks3D","isEnabled":true,"defaultIconResource":"https://r.bing.com/rp/2PHa2yDQOlYOXYRrjcHGGR2k5NA.svg","hoverIconResource":"https://r.bing.com/rp/anVkO2HlnUQC6DFZn_GFhiYJwWQ.svg","shareLinkFormat":"{origin}/maps/?cp={latitude}~{longitude}&lmk3d={props}","enableShare":true},"richMapsInfobox":{"featureType":"RichMapsInfobox","isEnabled":true},"layerManager":{"featureType":"LayerManager","isEnabled":true,"categoryToEndpointMapping":{"school":"json","transit":"transit","house":"json","hotel":"json","attraction":"json","trail":"json","campground":"json"},"categoryToRequestTypeMapping":{"school":"tilecoordinates","house":"tilecoordinates","hotel":"tilecoordinates","attraction":"tilecoordinates","trail":"tilecoordinates","campground":"tilecoordinates"},"jsonEndpoint":"/maps/localpoioverlaybfpr?q={queryText}&count={count}&localMapView={mapview}&filters={filters}&entityType={entityType}&poicount={poicount}","filterParam":"POIOverlaySegment:{category}","categoryToQueryTextMapping":{"school":"schools","coffee":"coffee","grocery":"groceries","gasstation":"gas stations"},"schoolsCount":50,"realEstatePoiCount":100,"hotelPoiCount":50,"attractionPoiCount":50,"layerTileLevel":1,"hotelLayerTileLevel":1,"schoolZoomLevelThreshold":9,"houseZoomLevelThreshold":9,"defaultZoomLevelThreshold":9,"enabledCategories":["school","transit","house","hotel","attraction","trail","campground"],"displayAsMicropoiCategories":["Attraction","Trail","Campground"],"hoverThreshold":2000,"imageUrlFormat":"/th?id={imageId}&w=80&h=80&c=7&rs=1&qlt=80&cdv=1&pid=18.2","useRootQueryInitially":{"house":true,"hotel":true}},"localGuide":{"featureType":"LocalGuide"},"localSearch":{"featureType":"LocalSearch","isEnabled":true,"requestUrlFormat":"/maps/overlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]","localFilterFormat":"local_ypid:\"{ypid}\"","entityFilterFormat":"sid:\"{sid}\"","vdpIdFilterFormat":"local_vdpid:\"{vdpid}\"","eventFilterFormat":"eventId:\"{eventId}\" eventParentId:\"{eventParentId}\" latlong:\"{latlong}\" location:\"{city}\"","polygonEntityScenarios":["7","9","24","25","27","28","29","33","45"],"singleEntityScenarios":["0","1","2","3","4","6","7","8","9","10","12","23","24","25","27","28","29","31","32","33","39","41","42","43","45","46","47","49","50"],"multiEntityScenarios":["5","11","34","35","36","37","38","40","44","52","54","55"],"directionsIntentDrivingScenarios":["13","14","15","53"],"directionsIntentTransitScenarios":["16","17","18"],"directionsIntentWalkingScenarios":["19","20","21"],"trafficIntentScenarios":["22","30"],"itineraryDetailsIntentScenarios":["48"],"itineraryListingsIntentScenarios":["51"],"isMapsLocationEnabled":true,"scenarioKeys":{"0":"ERR","1":"RS","2":"HS","3":"RTS","4":"LS","5":"MB","6":"AT","7":"PL","8":"LO","9":"CT","10":"GE","11":"LHM","12":"LLS","13":"DA_DDP","14":"DA_DDA","15":"DA_DDB","16":"DA_DTP","17":"DA_DTA","18":"DA_DTB","19":"DA_DWP","20":"DA_DWA","21":"DA_DWB","22":"MA_TRFC","23":"MA_ADDR","24":"MA_MAPS","25":"MA_PLAC","27":"MA_MNTY","28":"MA_PNTY","29":"MA_BDIE","30":"MA_TFCE","31":"MA_ADDE","32":"LRS","33":"ELG","34":"LERC","35":"LCMA","36":"LCL","37":"ELCV2","38":"EIC","39":"ELP","40":"LEL","41":"EIP","42":"EMS","43":"GDA","44":"LCC","45":"EWG","46":"LHS","47":"EIG","48":"BTVI","49":"EAIA","50":"ELN","51":"BTVIL","52":"LED","53":"DA_DOL","54":"EWC","55":"LTS"},"searchNearbyDefaultZoomLevel":16.0,"searchNearbyDefaultSuggestions":["L_SearchNearbyTerm_1:L_SearchNearbyCategoryId_1","L_SearchNearbyTerm_2:L_SearchNearbyCategoryId_2","L_SearchNearbyTerm_3:L_SearchNearbyCategoryId_3","L_SearchNearbyTerm_4:L_SearchNearbyCategoryId_4","L_SearchNearbyTerm_5:L_SearchNearbyCategoryId_5","L_SearchNearbyTerm_6:L_SearchNearbyCategoryId_6"],"formCodeMonitr":"MONITR","reportAsNotFoundKeys":["ERR"],"reportAsMultiBusinessKeys":["MB","LHM","LERC","LCMA","LCL","ELCV2","EIC","LEL","LCC","LED","EWC","LTS"],"reportAsAddressKeys":["LO","GE","MA_ADDR","MA_MAPS","MA_ADDE"],"reportAsPlaceKeys":["AT","PL","CT","MA_MNTY","MA_PNTY","MA_BDIE","MA_PLAC","ELG","GDA","EWG","EIG"],"reportAsLocalKeys":["RS","HS","RTS","LS","LLS","LRS","ELP","EIP","EMS","LHS","EAIA"],"directionsSearchCount":1.0,"useNewListingSearchCount":true,"listingSearchCount":18,"instrumentOldSearchEvents":true,"streetsideEnabledEntityTypes":[1,2,10,200],"pushpinIconScenarios":["23","25","31"],"boundaryDisabledLocationTypes":["ElectoralDistrict","StreetAddress","Neighborhood","Other"],"contextMenuNearbyCategories":["Restaurants:90287","Hotels:91572","Bars:90243","Attractions:90012","Coffee:91649"],"enableHotelTextAds":true,"enableRestaurantTextAds":true,"enableHotelListBtTextAds":true,"enableRestListBtTextAds":true,"requestUrlFormatForLocalOverlayOnSerp":"/maps/localoverlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]&originig={originIG}","requestUrlFormatForEventDetailCard":"/maps/overlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]","localOverlayOnSerpCategoryIDs":["90287","90232","91572","13344"],"disableOSearchScenarioKeys":["LERC"],"categoriesWithServerPagination":["house","trail","event","91572","13344","attraction","protectedsite"],"serverPaginationForLocalEntities":true,"poiCountOverrideByCategoryId":{"91572":"20","13344":"20"},"categoriesWithPricePoi":["House","90089"],"requestUrlFormatForTravelOverlayOnSerp":"/maps/overlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]","fallbackRequestUrlFormatForTravelOverlayOnSerp":"","requestUrlFormatForRealEstateOverlayOnSerp":"/maps/overlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]","iconOnlyLimitBySegmentTypeOrCategoryId":{"91572":"20","13344":"20","house":"0.5"},"useShowMeForSegmentMicroPoi":["house","91572","13344","attraction","trail","campground"],"useBfprRequestUrlFormat":"/maps/overlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&mapcardtitle={title}&appid={appid}&p1=[AplusAnswer]","bypassMicropoiWorkaround":true,"requestUrlFormatForItineraryModule":"","requestUrlFormatForProductAdsModule":"/maps/relatedproducts?q={query}&providerid={provid}&storeid={storeid}&prodig={ig}&ypid={ypid}&retailsource={rsource}&bizlocid={bizloc}&trigtype={trigtype}","showInlineFilters":true,"setMapViewForChainsForSuperApp":true,"enableCustomHotelsExperience":true,"enableCustomRestaurantsExperience":true,"enableTopicSearchExperience":true,"houseCardWidth":472,"hotelCardWidth":464,"restaurantCardWidth":464,"doubleWideListEnabled":true,"eventPreArrivalTime":30,"enableInfoBox":true,"sendDoNotBlockResultsForSID":true,"listingQuicksaveCategoryWhitelist":["Attraction","Trail","Campground","90016","90287","91572"],"hoverThreshold":2000,"sendFakeGlinkPing":true,"applyCatIdsForAllPins":true,"maxHomeOrWorkDistanceMeters":80000,"minHomeOrWorkDistanceMeters":50,"maxWalkingDistance":800,"minTimeThreshold":3,"homeWorkAnswerScenarios":[1,2,3,4,6,7,8,10,12,23,24,25,27,28,29,31,32,33,40,42,46],"enableListingRefreshCats":["attraction"],"threeColumnListSegmentsEnabled":["Attraction","Restaurant"],"twoColumnListSegmentsEnabled":[],"defaultListPlusDetailsCardWidth":484,"threeColumnListPlusDetailsCardWidth":732,"baseCardWidth":360,"placeCardWidth":650,"threeColumnMinBrowserWidth":1887,"sendFakeGlinkPingForStaticMapSegments":["House","RentalProperty"],"locationFilterAjaxEndpoint":"/local/hotelcontent?content=HotelPoi&cityid=","enableNewActionBarButtons":true,"modifyIntlDateFormat":true,"plcHoldImageHeight":200,"addNewSSPlcHoldImage":true,"narrowMultiColTCF":true,"enableCategoryIdMapping":true,"enablePoiCentering":true,"useNewErrorCard":true,"baseDetailsWidth":464,"oneSizeDetail":true,"waterfallEnabledCategories":["attraction"],"enableAutoScrollToSelectedListItem":true,"infiniteScrollEnabledCategories":["house","attraction"],"enabledCategoriesForResize":["attraction","90012","restaurant","90287"],"optimizeResultsListLoadingForWaterfall":true,"enableSaveButtonOnWaterfall":true,"enableImagePostLoading":true,"enableImprovedPerf":true,"matchingCategoriesForInfiniteScroll":[],"richInfoboxEnabledAnswerKeys":["1","2","12","25","28","32","33","39","41","42","43","45","46","47","49","50"],"infoboxUrlFormat":"/maps/infoboxoverlaybfpr?q={query}&filters={filter}direction_partner%3A%22maps%22%20tid%3A%22{tid}%22&appid={appid}","useNewFormCode":true,"formFromTaskState":true,"passListFormToDetails":true,"landmarkFormCode":"MPLAND","mapLabelFormCode":"MPLABL","wideListCardMinClientWidth":1232,"enableTopicSearchTextAds":true,"openTopicsCarouselLinksInNewCard":true,"disableAutoRefreshForCategories":[]},"map3D":{"featureType":"Map3D","isEnabled":true,"webWorkerUrl":"/maps/3d/worker.js","decoderWasmUrl":"/3dmap/3dmap_decoder.wasm","basisTranscoderUrl":"/maps/3d/basis_transcoder.js","basisWasmUrl":"/3dmap/basis_transcoder.wasm"},"mapBuilder":{"featureType":"MapBuilder","isEnabled":true,"minZoomLevel":12,"boundsList":["Australia:111:-44:155:10","SouthAmerica:-96:-57:-34:14","Africa:-26:-37:53:38","MiddleEast:32:12:88:56","Caribbean:-86:10:-58:24","Bahamas:-79.5:20:-72:27","Oceania:128:-57:181:21"],"mapBuilderURL":"https://www.bing.com/mapbuilder/#background=Bing&disable_features=boundaries&map={zoomLevel}/{latitude}/{longitude}"},"mapDelay":{"featureType":"MapDelay","isEnabled":true,"reverseGeocodeRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations/{latitude},{longitude}?o=json&jsonp={callback}&key={session_key}&includeEntityTypes={includeEntityTypes}&inclnb={neighborhood}&incl={incl}&{cmnPltParam}","geocodeRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations/?q={query}&o=json&jsonp={callback}&key={session_key}&maxResults={maxResults}&userMapView={userMapView}&inclnb={neighborhood}&incl={incl}&{cmnPltParam}","geolocationTimeout":10000,"geolocationMaxAge":300000,"boundingBoxRequestUrlFormat":"https://dev.virtualearth.net/REST/v1/Locations?key={session_key}&output=json&jsonp={callback}&query={query}&{cmnPltParam}","enableCopyLinkInContextMenu":true,"enableAutoCopyToClipboard":true,"devParamsList":[]},"mobileMapShell":{"featureType":"MobileMapShell"},"notification":{"featureType":"Notification","isEnabled":true,"insertionPointId":5006,"partnerId":"Maps"},"optIn":{"featureType":"OptIn","isEnabled":true,"isMarketSupported":true,"isLanguageSupported":true,"showUnsupportedInfo":true,"isBrowserSupported":true,"bingDomain":"https://www.bing.com","mobileRedirectUrl":"/","optOutRedirectUrl":"/maps/","blackberryRedirectUrl":"/","landingPageUrl":"/maps/sharing","serpPageUrl":"/search","serpEntityPageUrl":"/entityexplore","mapsEntityPageUrl":"/maps/ee","myPlacesMobileUrl":"/maps/myplaces/","collectionMobileUrl":"/maps/myplaces/collection/","nativeMapAppUrl":"https://www.google.com/maps/dir/?api=1","isGoogleRedirect":true,"directionsModeParam":"travelmode","directionsModeDriving":"driving","directionsModeWalking":"walking","directionsModeTransit":"transit","mobileSignInUrl":"/fd/auth/signin?action=interactive&provider={0}&device=mobile&return_url={1}","mobileStreesideUrl":"","venueMapMobileUrl":"/","mobileBirdseyeV2Url":"","mobileItineraryUrl":"","mobileHouseUrlPath":"/entityexplore","mobileMapsShellUrlPath":"/maps","inPrivateErrorPage":"/profile/history?FORM=O2HV46"},"performance":{"featureType":"Performance","isEnabled":true},"print":{"featureType":"Print","isEnabled":true,"printImgOverviewMapUrlFormat":"https://www.bing.com/maps/geoplat/REST/v1/Imagery/Map/RoadVibrant/{lat},{lon}/{zoom}/?mapsize=410,410&key={credentials}&od=2&{cmnPltParam}","printImgMiniMapUrlFormat":"https://www.bing.com/maps/geoplat/REST/v1/Imagery/Map/RoadVibrant/{lat},{lon}/14/Routes?mapsize=410,410&{wp}key={credentials}&rid={rid}&od=2&{cmnPltParam}","notesMaxChars":1500,"minZoomLevel":2},"sharing":{"featureType":"Sharing","isEnabled":true,"supportedSchemas":{"1":{"version":1,"supportedFeatures":["TaskFramework","CompositeMapMode","Traffic","LocalListing","LocalDetails","Collections","Directions","Streetside","TransitStop","NearbyTransit","TransitLine","AddressEdit"]},"2":{"version":2,"supportedFeatures":["CompositeMapMode","Streetside","TaskFramework","LocalListing","LocalDetails","Traffic","Collections","Directions","TransitStop","NearbyTransit","TransitLine","ShareImage","ItineraryDetails","MyContributions"]}},"currentProtocolVersion":2,"currentSchemaVersion":2,"readSchemaVersion":2,"defaultSchemaVersion":1,"serviceEndpoint":"maps/permalink","shellPath":"maps","canonicalPath":"https://www.bing.com/maps","formCode":"S00027","shorteningServiceUrl":"","numAutoSharedCards":10,"enableMultipleCardSharing":true,"setFlightFeatures":[],"landingPageChangeParameter":"lpchange","enabledTasksToRedirect":["LocalDetails","PolygonEntityDetails","Directions","LocalListing","Collections","ItineraryDetails","ItineraryListings"],"embedPageUrl":"/maps/embed-a-map?src=SHELL&cp={0}~{1}&lvl={2}&form=LMLTEW","facebookShareUrl":"https://www.facebook.com/dialog/share?app_id=2249142638525661&href={url}&redirect_uri={facebookpage}&display=popup","twitterShareUrl":"https://twitter.com/intent/tweet?text={text}&url={url}&related={related}","facebookRedirectUrl":"https://www.facebook.com","mapSnippetUrl":"/maps/geoplat/REST/v1/Imagery/Map/Road","shareImgWidth":600,"shareImgHeight":315,"shareImgMargin":2,"shareImgMarginFill":"white","shareImgDetailPushpinType":"176","shareImgListPushpinType":"163","noIndexParams":["mkt","setmkt","setlang","q"],"sharingOSEnvironment":"ObjectStoreMultiBE.Prod.DB.BingInternal.com:83/sds","sharingOSNamespace":"Maps","sharingOSTimeout":3000,"sharingOSTable":"SharingProd","clientCert":"","isEnableSocialSharing":true,"disableSharingLargeBoundingBox":{"north":76.61365,"east":179.28311,"south":44.456196,"west":21.959993},"disableSharingBoundingBoxes":[{"north":52.42157,"east":40.592808,"south":44.456196,"west":21.959993},{"north":56.304985,"east":32.993397,"south":51.248882,"west":22.995836},{"north":71.36265,"east":48.375496,"south":47.145973,"west":28.098288},{"north":71.93861,"east":60.916782,"south":50.991005,"west":48.375496},{"north":76.61365,"east":179.28311,"south":54.059387,"west":60.916782}],"disableLoadingRUBRegion":true},"streetside":{"featureType":"Streetside","isEnabled":true,"getBubblesByLocationRectUrlFormat":"https://{tfeDomainStatic}/tiles/cmd/StreetSideBubbleMetaData?count=500&north={north}&south={south}&east={east}&west={west}&key={credentials}&g={hsmsgenid}","getBubblesByIdUrlFormat":"https://{tfeDomainStatic}/tiles/cmd/StreetSideBubbleMetaData?id={bubbleId}&key={credentials}&g={hsmsgenid}","reportAProblemUrlFormat":"https://www.bing.com/maps/streetsideprivacyreport?bubbleid={id}","coverageLayerTileUrlFormat":"https://{tfeDomainDynamic}/comp/ch/{quadkey}?mkt={lang}&it=Z,HC&og={odmgenid}{srcparam}","tileUrlFormat":"https://{tfeDomainStatic}/tiles/hs{quadkey}.jpg?g={hsgenid}&n=z&key={credentials}{srcparam}","maxNumberOfBubblesToCache":200,"coverageLayerZIndex":1001,"defaultNumberOfBubblesToRequest":50,"autoEntryAllowed":true,"zoomInAnimationTargetZoomLevel":19,"zoomInAnimationMillisecondsPerZoomLevel":500,"bubbleSourceBubbleLimit":1000,"overviewMapLOD":16,"minLookupsMeters":[50,25,15,10],"maxZoomForSS":20,"bubbleTransitionTime":400,"directionsBubbleTransitionTime":50,"directionsViewportWidth":456,"directionsViewportHeight":456,"directionsMaximumAngleDifferenceToConsiderTwoAnglesSimilar":45,"directionsMinimumDistanceFromBubbleLocationToLookAtLocationInMeters":10,"minimumDirectionsBubbleDistanceFromIntersectionInMeters":10,"optimalDirectionsBubbleDistanceFromIntersectionInMeters":30,"localDetailsMaximumDistanceInMetersBetweenBubbleAndEntity":100,"directionsOverlayMapTileUrlFormat":"https://dev.virtualearth.net/REST/v1/Imagery/Map/{mapStyle}/{latitude},{longitude}/19?mapSize={width},{height}&key={credentials}&{cmnPltParam}","cursorSwapDelayTimeInMilliseconds":1500,"navigationControlClickRegionAdjustment":50,"navigationControlHalfAllowableSimilarAngle":30,"coverageLayerOpacity":0.5,"setViewAnimationMillisecondsForStreetsideMini":300,"photosynthProxyUrlFormat":"//photosynth.net/jsonproxy.psfx?jsonUrl={uriEncodedUrl}&jsCallback={callback}","overviewMapMapType":"r","httpsOverrideListUrl":"https://ssl-cdn.ps1.photosynth.net/httpsOverrideList.json","streetsideCursorSize":256,"streetsideLabelFont":"60pt Segoe UI","vectorLabelWithGeometryUrl":"https://{tfeDomainDynamic}/comp/ch/{quadkey}?mkt={mkt}&ur={ur}&it=G,L&og={odmgenid}&js=1&vpt=e,l&cstl=vb{srcparam}&aae=1&cb={callback}&jsonso={jsonso}"},"taskBar":{"featureType":"TaskBar","isEnabled":true,"showTaskBarLabels":true,"windowMinWidth":768,"windowMinHeight":390,"taskBarMapTypeTextMinWidth":768,"fullScreen":true,"searchBoxWidth":650,"navButtonWidth":220,"maxIdControlsWidth":147,"minIdControlWidth":103,"minimumActionButtonsWidth":185,"maximumActionButtonsWidth":288,"taskBarResizeBuffer":60,"taskbarTextBuffer":90,"searchButtonWidth":38,"minSearchBoxWidth":360,"taskbarLeftBuffer":152,"updateSearchTermOfAutosuggestWithTaskTitle":true,"taskbarButtonsShowTextWidth":820,"taskbarIdShowWidth":820,"taskbarRightBuffer":60,"categoryLayers":["commutability","school"],"enableSortDropDown":true,"enableSortDropDownForAllSegments":true,"sortMaxOptionsNormal":3,"sortMaxOptionsWide":4,"whiteBackgroundEnable":true,"nearbyFormCode":"MPSRNB","searchFormCode":"MPSRBX"},"taskFramework":{"featureType":"TaskFramework","isEnabled":true,"defaultZoomLevel":16,"approximateLocationZoomLevel":13,"microPoiRequestUrlFormat":"https://t{subdomain}-micropoi.ssl.ak.tiles.virtualearth.net/mpoi/MicroPoi/{quadkey}.json?q={query}&filter=&jsonp={callback}&jsonso={jsonso}&output=json&ll=true","zoomLevelThresholdForChangingMapView":3,"zoomLevelThresholdForChangingMapViewForPolygon":2,"autoRefreshMaxMiles":50,"autoRefreshMinZoom":8,"autoRefreshMinZoomRE":6,"zoomLevelThresholdForSinglePoi":4,"autoRefreshDelayInMs":150,"distanceRequiredInPixelsForAutoRefresh":100,"canCardColorFade":true,"topPrimitiveIndexForResults":2,"slideoutMinWidth":1176,"newMicroPoiRequestUrlFormat":"https://www.bingapis.com/api/v7/micropoi?tileId={quadkey}&q={query}&chainid={chainId}&categoryid={categoryId}&appid=5BA026015AD3D08EF01FBD643CF7E9061C63A23B","defaultCardWidth":360,"maxPolygonZoomLevel":20,"enableNewActionBarButtons":true,"customScrollbar":true,"newCardSizingForTCF":true,"showLoadingSkeleton":true,"defaultSkeletonWidth":360,"nearbyButtonEnabled":true,"nearbyListingButtonsEnabled":true,"nearbyDistanceMatrixProxyURL":"/maps/DistanceMatrix?origins=${lat},${lng}&destinations=${destinations}&skey=${key}&travelmode=${travelMode}","nearbyDistanceMatrixURL":"https://dev.virtualearth.net/REST/v1/Routes/DistanceMatrix?origins=${lat_lon}&destinations=${destinations}&travelMode=${travelMode}&timeUnit=minute&key=${key}&skey=${seckey}&optimize=time","enableMyContributions":true,"enableBoldUXChanges":true,"minimumMapWidth":150,"isMapPeek":true,"enableResultsPoiDedupe":true,"showWoW":true,"woWRequestUrl":"https://services.bingapis.com/npswowweb/wownps?npsid=8F15ECD5-EB22-48AF-9FDA-8FD3E8AFC6F0&setlang={lang}&impressionId={ig}&muid={cid}&isAADAuthenticatedBingUser={isAAD}&isBnpNotificationShown=false","fixSharedMapView":true,"mapsNewBlue":true,"disableSecPromListPois":true},"trafficControl":{"featureType":"TrafficControl","isEnabled":true,"defaultTrafficLayerOpacity":1.0},"traffic":{"trafficLayerZIndex":3000,"incidentsUrlFormat":"https://dev.virtualearth.net/REST/v1/Traffic/Incidents/{bounds}/?severity={sev}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}&includeItems={includeItems}&includeLoD=true&includeJamcidents=true","incidentsLayerZIndex":9500,"incidentsLayerRefreshInterval":180000,"minZoomLevelToShowIncidents":7,"maxZoomForSevereIncidentsOnly":10,"minZoomForMinorIncidents":16,"minZoomForLowImpactIncidents":16,"minZoomForAllCameras":12,"minZoomForModerateIncidents":14,"cameraByLocationUrlFormat":"https://dev.virtualearth.net/REST/v1/Traffic/Incidents/{bounds}/?key={credentials}&o=json&jsonp={callback}&includeItems=cameras&{cmnPltParam}","cameraUrlFormat":"https://ecn.dev.virtualearth.net{imageUrl}&key={credentials}&{cmnPltParam}&animated=true","trafficTileCacheDuration":180000,"cameraAnimationEnabled":true,"cameraAnimationAutoPlay":true,"useAlertCSeverity":true,"featureType":"Traffic","isEnabled":true},"trafficExperiences":{"featureType":"TrafficExperiences","isEnabled":true,"trafficNewsConfigs":{"trafficNewsService":{"endpoint":"https://assets.msn.com/","trafficNewsContentApi":"service/MSN/Feed","defaultQueryString":"","newsNumberOneTime":"40","responseSchema":"compositecard","contentType":"article,video,slideshow","ocid":"traffic","timeOut":"5000","fdHead":"","queryType":"myfeed","query":"traffic","apiKey":"KsvgTCXGMJDGALf9iXuv4Xa16MwCFZTSLICl1vYPF9"}},"mapControlConfigs":{"hideIncidentsOnRouteDrawn":true,"hideCamerasOnRouteDrawn":true},"trafficTimesConfigs":{"endpoint":"https://trafficspatialv2.trafficmanager.net/api/traffic/bingCard/{location}?c={culture}&code=Ku8AKFZLoL%2FSdrOef6MjtUCE2sFUughu7w22rOWpmnz%2BZvBtk%2FYpwPC902HH5XK9i1UE3lUtaC8E693C9yZsKanUS9COz%2FmtcU3jtKdK9gs%3D&dedupe=true"},"trafficInsightsConfigs":{"insightsBaseUrl":"https://services.bingapis.com/mapstraffic-mapgrowth/api/v1/trafficanalytics?latitude={latitude}&longitude={longitude}&traceid={traceId}&interval={interval}&dataset={dataset}&ocid=trf-landing&sort=asc","msnWeatherBaseUrl":"https://www.msn.com/{market}/weather/forecast/in-{city}"},"myRoutesConfigs":{"isEnabled":true,"isCustomRoutesEnabled":true,"isRedesignLayout":true,"commuteMobileUpsellConfigs":{"redirectURL":"https://www.bing.com/maps/cmur?guid={guid}&ocid={ocid}&msgtype={msgtype}","upsellType":1,"upsellMessageType":2,"modalCommuteImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CarouselImageCommute.png","modalNotificationImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CarouselImageTraffic.png","commuteAppImageUrl":"https://assets.msn.com/staticsb/statics/latest/traffic/localizedMobileUpsell/CommuteMobileUpsellGraphic.png"},"isAlternateRouteEnabled":true},"eventsConfigs":{"eventsBaseUrl":"https://api.msn.com/traffic/events?apikey={apiKey}&ocid={ocid}&market={market}&latitude={latitude}&longitude={longitude}"},"sharedConfigs":{"ocid":"bing-trafficexp","apiKey":"QCxB8CZlbn4j3g9zhZYjGXxMdirsxn6l07aZr2sxWM"},"trafficProfileConfigs":{"trafficSegmentUrl":"/cloudgraph/commute/getprofile?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}","fdHead":"prg-1sw-myroutes,1s-commute-nocalc","actionApiUrl":"/cloudgraph/commute/myroutesaction?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}&{filter}","commuteHoursUrl":"/cloudgraph/commute/commutehours?fdhead={fdhead}&ocid={ocid}&apikey={apiKey}"},"destinationsConfigs":{}},"mapBuilderExperiences":{"featureType":"MapBuilderExperiences","isEnabled":true,"mapBuilderBaseUrl":"https://www.bing.com/mapbuilder/","mapBuilderAppId":"62A360A05265031C3D30675B7AE3230AD5A5F25D"},"transit":{"featureType":"Transit","isEnabled":true,"transitStopRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/Schedules/Stop?{version}&stopId={stopId}&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","transitLineRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/lines/{stoplat},{stoplong}?ln={linename}&dist={dist}&&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","nearbyTransitStopRequestFormat":"https://dev.virtualearth.net/REST/v1/Transit/Stops/{location}?span={span}&dt={month}/{day}/{year}%20{hour}:{min}:{sec}&key={credentials}&o=json&jsonp={callback}&{cmnPltParam}","nearbyStopSpan":0.5,"unit":2,"nearbyStopMaxShown":10,"transitOBDLEnabled":true},"travel":{"featureType":"Travel","isEnabled":true,"walkingDistanceThreshold":805,"walkingTimeThreshold":900,"useRecoCarousel":true,"recommendationModules":["WhatToDo","WhatToDoOpalAction","EatAndDrink","EatAndDrinkOpalAction","EatAndDrinkOpalScenario","WhereToStay","WhereToStayOpalAction","Events"],"enableInfoBox":true,"itineraryDefaultCardWidth":464,"itineraryWideCardWidth":732,"minWideCardWidth":1550,"itineraryUrl":"/local/itinerary?q={0}&itinid={1}&sq={2}"},"birdseye":{"featureType":"Birdseye","isEnabled":true},"xsr":{"featureType":"Xsr","isEnabled":true,"styleUrlBase":"https://{tfeDomainDynamic}/comp/stl","styleEntryUrlFormat":"{urlbase}?mssetbv={stlVersion}&og={odmgenid}","catMapUrlFormat":"{urlbase}?ctpv={ctpVersion}&og={odmgenid}","sharedStyleUrlFormat":"{urlbase}?ods=mvt&sharedcs=1&v={stlVersion}&og={odmgenid}","coreStyleUrlFormat":"{urlbase}?ods=mvt&cs={templateName}&v={stlVersion}&og={odmgenid}&culture={lang}","imageUrlFormat":"{urlbase}?ods=mvt&i={imageId}&ig={groupId}&culture={lang}&if={imageFamily}&v={stlVersion}","orgImageUrlFormat":"{urlbase}?ods=mvt&oi={orgId}&v={stlVersion}","shieldBucketImageUrlFormat":"{urlbase}?ods=mvt&si={shieldId}&if={imageFamily}&v={stlVersion}","shieldAdminImageUrlFormat":"{urlbase}?ods=mvt&sa={shieldId}&if={imageFamily}&v={stlVersion}","renderTextInVectorImages":true,"iconOversample":2,"landmarkHoverState":true,"searchInvertsColorVersion":"xsr823","xsrVersionMap":{"xsr822":"8.1.0.3131","xsr823":"8.1.0.3171"},"useXsrGradients":true,"batchPrefetchImages":true,"prefetchTemplateShapes":true,"clickableByFeatureProperty":true}},"dynamicProperties":{"origin":"https://www.bing.com","market":"en-WW","sessionKey":"AqthDCu6DuS51pS_KKPTcgrHCvP1lvjTCcoDt8tpI2ggGG9CHDLrbQE74dWaDvU6","impressionGuid":"02CA2DD2602A4898B19EC5A8FFB96A58","mapsIG":"02CA2DD2602A4898B19EC5A8FFB96A58","clientId":"2B73371CDBF3645209A024D1DA746581","location":"","zoom":11.0,"reverseIPLocation":"-1.28410005569458,36.81549835205078","reverseIPPlaceType":"PostalCode","marketLocation":"47.603569,-122.329453","clientIP":"105.163.157.127","uiLanguage":"en-US","userRegion":"ke","cultureData":{"numberDecimalSeparator":".","shortTimePattern":"h:mm tt","timeSeparator":":","amDesignator":"AM","pmDesignator":"PM","shortDatePattern":"M/d/yyyy","longDatePattern":"dddd, MMMM d, yyyy","yearMonthPattern":"MMMM yyyy","weekMonthDayPattern":"ddd, MMM d","dateSeparator":"/","firstDayOfWeek":"0","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"monthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"abbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"abbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"abbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"shortestDayNames":["S","M","T","W","T","F","S"]},"appId":"E18E19EF-764F-41A9-B53E-6E98AE519695","defaultPrintMessage":"Oops! Bing Maps doesn't support printing this way. Please use the print button on the Bing Maps action bar to print","defaultPrintImage":"https://r.bing.com/rp/nk8d_dORXi1Avlau4rFPY2YKvU0.svg","bingRequestDomain":"www.bing.com","compositionHandlerGenerationId":"2346","osmGenerationId":"1","streetsideImageryGenerationId":"14037","streetsideMetadataGenerationId":"13651","birdseyeV2MetadataGenerationId":"11124","birdseyeV2ImageryGenerationId":"11124","terrainImageryGenerationId":"12825","shadedReliefEdgeImageryGenerationId":"13995","aerialImageryGenerationId":"14041","browser":"Edg","browserVersion":119},"isMapsAnswer":true,"enableInstrumentation":true,"enableErrorInstrumentation":true,"perfSDKInclusions":["maps_clt"],"isJSEventScaleAware":true,"disposeMapOnPageHide":true,"stlVersion":"9.27","ctpVersion":3,"tileSourceParam":"","platformCommonParam":"ur=ke&c=en-US&setfeatures=","addCrossOriginAttr":true,"networkJsonpFix":true,"excelsiorBaseUrl":"","forcedTransition":"fly"},"callbackOnLoad":"initializeMap","dragonflySourceKeys":["MapShell"]};
(function(){var s,c,w,b,f,e,a,u,k,ht,at,h,i,t,r,n,vt,g,nt,y,yt,pt,wt,p,tt,dt,it,rt,ut,gt;try{"use strict";var l=this&&this.__assign||function(){return l=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l.apply(this,arguments)},ft=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),et=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},ot=function(){function u(i){this._clientInstEventFormatString=n.logClientInstEventFormatString.replace("{EventType}",i);this.igUpdatedPromise=new v;u._timerInterval=n.logFlushIntervalInSeconds?n.logFlushIntervalInSeconds*1e3:1e3;u._instrumentationUrl=n.instrumentationUrl.replace("{origin}",t.dynamicProperties.origin)}return u.prototype.logObject=function(n,i){var r,f;n.overlay||(r=u.getOverlayType(),r&&n&&(n.overlay=r));f=this._clientInstEventFormatString.replace("{TimeStamp}",Date.now().toString(10)).replace("{ImpressionGUID}",i||t.dynamicProperties.impressionGuid).replace("{DATA}",JSON.stringify(n));u.logList.push(f);this.startTimer()},u.prototype.flush=function(){u._timerToken&&(window.clearTimeout(u._timerToken),u._timerToken=0);this._postInstrumentationData()},u.prototype.clear=function(){u.logList.length=0},u.prototype.startTimer=function(){var n=this;u._timerToken||(u._timerToken=o.setTimeout(function(){n.processTimerEvent()},u._timerInterval))},u.prototype.processTimerEvent=function(){u._timerToken=0;this.flush()},u.prototype.logSnrPageNameForMapControl=function(i,f){var l=this,o,h;if(f){if(u._igUpdateRequested)return;u._igUpdateRequested=!0}if(t.enableInstrumentation||t.enableErrorInstrumentation||((o=t.perfSDKInclusions)===null||o===void 0?void 0:o.length)>0){var e=t.dynamicProperties,s=n.serverInstrumentationUrlFormat.replace("{origin}",e.origin).replace("{q}","").replace("{f}",i),c="MONITR";window.location.href.toUpperCase().indexOf(c)>-1&&(s+="&FORM="+c);h=e.sdkCustomerScenarioId;h&&(s+="&sid=".concat(h));r.Network.downloadGeneric(s,"pagename",function(n){var u,i,r;f&&(typeof n=="string"&&(u=new DOMParser,n=u.parseFromString(n,"text/html")),typeof n=="object"&&(i=n.getElementById("ImpressionGuid"),r=i===null||i===void 0?void 0:i.getAttribute("name"),r&&(e.mapsIG=r,t.isMapsAnswer||(e.impressionGuid=r),l.igUpdatedPromise.resolve())))},f?"document":null)}else this.igUpdatedPromise.resolve()},u.prototype._postInstrumentationData=function(){if(u.logList.length>0){var t=n.logClientInstRequestFormatString.replace("{Events}",u.logList.join(""));try{navigator.sendBeacon(u._instrumentationUrl,t);this.clear()}catch(i){this.startTimer()}}},u.getOverlayType=function(){var n;return(n=t.dynamicProperties.overlayType)!==null&&n!==void 0?n:""},u.SendInstrumentationToServer=function(i,f){var e,o,s,h;t.enableInstrumentation&&f&&(e=n.serverInstrumentationUrlFormat.replace("{origin}",t.dynamicProperties.origin).replace("{q}",i?i:"").replace("{f}",f),o="MONITR",window.location.href.toUpperCase().indexOf(o)>-1&&(e+="&FORM="+o),s=u.getOverlayType(),s&&(e+="&OVRLY="+s),h=t.dynamicProperties.mapsIG,h&&(e+="&MCIG="+h),r.Network&&r.Network.downloadGeneric(e,"srvinst",function(n){u._logMapPageView(n)},null,null,null))},u._logMapPageView=function(n){var t=i.Internal.Helper._tryParsingWithDOMParser(n),r,u,f,e;t&&t.length>0&&(r=t.select("#ImpressionGuid"),u=t.select("#PageName"),r.length===1&&u.length===1&&i.globalConfig.dynamicProperties.mapsIG&&i.globalConfig.dynamicProperties.mapsIG!==r.get_attr("name")&&u.get_attr("name")!=="Page.Maps.OneMapOverlay"&&(f=i.logger,e={feature:"MPV",action:"C",data:{P:u.get_attr("name"),CIG:r.get_attr("name")},T:"CI.ClientClick",FID:"CI"},f.logObject(e,i.globalConfig.dynamicProperties.mapsIG)))},u.logList=[],u._igUpdateRequested=!1,u._timerToken=0,u}(),v=function(){function n(){var n=this;this._promise=new Promise(function(t,i){n.resolve=t;n.reject=i})}return n.prototype.then=function(n,t){return this._promise.then(n,t)},n}(),ti=function(n){function r(){var t=n.call(this,"Event.ClientInst")||this;return t._exceptionCount=0,t.igUpdatedPromise=new v,i.errorLogs=i.errorLogs||[],t}return ft(r,n),r.prototype.logObject=function(i,r,u){t.enableInstrumentation&&(i.T||(i.T=u?"CI.MapsAction":"CI.ClientClick"),i.FID=i.FID?i.FID:"CI",n.prototype.logObject.call(this,i,r))},r.prototype.logCriticalError=function(n,i,r,u){var c,l,f,o,s,e,h;if(r===void 0&&(r=!0),!t.dynamicProperties.likelyBot&&navigator.userAgent){if(f=i&&i.data&&i.data.url,f=f&&f.toLowerCase(),t.testHooksAllowed||(t.enableInstrumentation||t.enableErrorInstrumentation)&&(!f||f.indexOf("virtualearth.net")>-1||f.indexOf("bing.com")>-1||f.indexOf("microsoft.com")>-1||f.indexOf("live.com")>-1||f.indexOf("bingapis.com")>-1))if(f&&(i.data.url=this._cleanUrl(f)),o=(l=(c=n===null||n===void 0?void 0:n.stack)!==null&&c!==void 0?c:f)!==null&&l!==void 0?l:"",i&&i.data&&i.data.stack&&(o+=";"+i.data.stack),(t.isMapsVertical||t.isMapsAnswer)&&r&&(o+=";"+window.location.href),s=!n&&f,e={T:s?"CI.Warning":"CI.Error",feature:"SDK",action:i?i.action:"",data:i?i.data:"",partner:"Maps",horizontal:"SDK",Name:s?"MapsNetwork":"JSError",Text:"",Stack:o},t.isMapsVertical?e.horizontal="Vertical":t.isMapsAnswer&&(e.horizontal="MapSerp"),n?e.Text=typeof n=="string"?n:n.message:i&&(e.Text=this._serializeData(i.data)),h="handledEx:",n?h="unhandledEx:":f&&(h="network:"),e.Text="v9;".concat(e.horizontal,";").concat(h+e.Text),(t.testHooksAllowed||!t.isSDK)&&Microsoft.Maps.errorLogs.push(e),t.testHooksAllowed&&(console.log("".concat(Date.now()-performance.timeOrigin," - Error:")),s&&f?console.log("Network error - status:".concat(i.data.httpStatus,", url: ").concat(f)):(console.log("Error - message:".concat(e.Text)),console.log("Error - stack:".concat(e.Stack))),console.log("")),n){if(t.isSDK||typeof _G=="undefined"||u?this.logObject(e,t.dynamicProperties.mapsIG):n.message=e.Text,!u)throw n;}else++this._exceptionCount<=16&&(this.logObject(e,t.dynamicProperties.mapsIG),this.flush());if(n&&!u)throw n;}},r.prototype._serializeData=function(n){var i="",r,u,t;if(n)if(typeof n=="object")for(r=0,u=Object.keys(n);r<u.length;r++)t=u[r],n[t]!==""&&t.toLowerCase()!=="stack"&&(i=i+t+":"+(typeof n[t]=="object"?JSON.stringify(n[t]):n[t])+", ");else i=n;return i},r.prototype._cleanUrl=function(n){return n&&(n=n.replace(/(\/|\/be|\/hs)[0123]+(\?|\.json\?)/gi,"/{quadkey}?").replace(/key=(\w|-)+/gi,"key={credentials}").replace(/auth=(\w|-)+/gi,"auth={credentials}").replace(/jsonso=\w+/gi,"jsonso={jsonso}").replace(/jsonp=(\w|\.)+/gi,"jsonp={jsonp}").replace(/t[01](\.|-)/gi,"{subdomain}").replace(/mkt=\w{2}-\w{2}/gi,"mkt={mkt}").replace(/culture=\w{2}-\w{2}/gi,"culture={culture}").replace(/og=\d+/gi,"og={og}").replace(/ur=\w{2}/gi,"ur={ur}").replace(/idx=\d+/gi,"idx={idx}").replace(/eid=\d+/gi,"eid={eid}").replace(/copyright\/\w{2}-\w{2}\/\w+(\/(\d|\.|-)+){5}\?/gi,"copyright/{Copyright}?").replace(/locations\/(\d |\.|,|-)+\?/gi,"location/{locations}?")),n},r}(ot),o;(function(n){function t(n,t){return typeof n=="function"?function(){try{return n.apply(null,t)}catch(i){if(window.Microsoft&&Microsoft.Maps)Microsoft.Maps.logger.logCriticalError(i);else throw i;}}:n}function r(n,i){for(var f,u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];return f=t(n,u),window.setTimeout(f,i)}function u(r){for(var e,f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];i?(e=t(r,f),Promise.resolve().then(e)):n.setTimeout.apply(n,et([r,0],f,!1))}function f(n,i){for(var f,u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];return f=t(n,u),window.setInterval(f,i)}var i=typeof Promise!="undefined"&&Promise.toString().indexOf("[native code]")!==-1;n.setTimeout=r;n.setAsync=u;n.setInterval=f})(o||(o={})),function(n){function i(n){return"_$Maps_"+n+"_expiration"}function r(){return!!t}function u(n){var r,u,f,e;return t?(r=t.getItem(n),r&&(u=i(n),f=t.getItem(u),f&&(e=parseInt(f),Date.now()>e&&(r=null,t.removeItem(n),t.removeItem(u)))),r):null}function f(n,r,u){t&&((!isFinite(u)||u>0)&&t.setItem(n,r),u>0&&t.setItem(i(n),(Date.now()+u*864e5).toString()))}function e(n){if(t){var r=i(n);t.removeItem(n);t.removeItem(r)}}var t=function(){var n,t,i;try{return n=(new Date).toString(),t=window.localStorage,t.setItem(n,n),i=t.getItem(n)===n,t.removeItem(n),i&&t}catch(r){}return undefined}();n.isEnabled=r;n.getItem=u;n.setItem=f;n.removeItem=e}(s||(s={})),function(n){function u(n,u){t&&sj_cook.set&&sj_cook.set(i,n,u,!0,"/maps",r)}function f(n){return t&&sj_cook.get?sj_cook.get(i,n):null}var t=typeof sj_cook!="undefined",i="mapc",r=129600;n.setCookie=u;n.getCookie=f}(c||(c={})),function(t){function e(){var u=1,f=!1,t,e,i,n,o;try{e=Microsoft.Maps.globalConfig.testHooksAllowed&&window.mockDocument;i=(e||document).createElement("canvas");i.width=1;i.height=1;n=i.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});f=!!n;n||(n=i.getContext("webgl",{failIfMajorPerformanceCaveat:!0}));o=n===null||n===void 0?void 0:n.getExtension("WEBGL_debug_renderer_info");t=n===null||n===void 0?void 0:n.getParameter(o.UNMASKED_RENDERER_WEBGL).toLowerCase();var s="intel(r) ",h="amd radeon(tm) ",c=" direct3d11",l=["swiftshader","software adapter","llvmpipe","microsoft basic render driver","mobile ".concat(s),"direct3d9ex"],a=["b43","g41","hd graphics","uhd graphics 600","hd graphics 4000","hd graphics family","hd graphics 5500","uhd graphics 605"],v=["r5 graphics"],y=["uhd graphics 630","hd graphics 630","hd graphics 530","hd graphics 4600","uhd graphics","iris(r) plus graphics","iris(r) xe graphics"],p=["vega 8 graphics"],r=function(n,i,r){return n.some(function(n){var u=i?n:"".concat(r?s:h).concat(n).concat(c);return t.indexOf(u)>-1})},w=function(n){return n.some(function(n){return new RegExp(n).test(navigator.userAgent)})},b=function(){return!t||r(l,!0)||r(a,!1,!0)||r(v,!1,!1)},k=function(){return t&&(r(y,!1,!0)||r(p,!1,!1))};b()||w(["\\bSilk\\b"])?u=2:k()&&(u=0)}catch(d){u=2}return{classification:u,webgl2Supported:f,gpuRenderer:t}}function o(){var t="none",i;return matchMedia("(-ms-high-contrast: white-on-black)").matches?t="dark":matchMedia("(-ms-high-contrast: black-on-white)").matches?t="light":(matchMedia("(-ms-high-contrast: active)").matches||matchMedia("(inverted-colors: inverted)").matches)&&(t="dark"),i=n.overrideHighContrast,i&&(t=i===1?"dark":"light"),t}function h(t){var p,h={},k=!n.skipGPUlsop,w=(t||window).navigator,l,a,y,v,b,d;if(w&&w.hardwareConcurrency>0&&(h.cpuCores=w.hardwareConcurrency),h.contrastMode=o(),k)try{a=s.getItem(i);a&&(a=JSON.parse(a),h.webgl2Supported=(p=a.webgl2Supported)!==null&&p!==void 0?p:!0,l=h.deviceClassification=a.deviceClassification)}catch(g){}typeof l=="undefined"&&(y=e(),l=y.classification,l===1&&(h.cpuCores>=r?l=0:h.cpuCores<u&&(l=2)),h.deviceClassification=l,h.webgl2Supported=y.webgl2Supported,n.logGPURenderer&&(h.gpuRenderer=y.gpuRenderer),k&&s.setItem(i,JSON.stringify(h),f));v=l===0?0:1;n.isRasterMode&&(v=2);n.fullVecForMedium&&l===1&&(v=0);b=n.overrideRenderingMode;b!==-1&&(v=b);h.renderingMode=v;c.setCookie("rm",v.toString());d=n.overrideWebGL2;switch(d){case 1:h.webgl2Supported=!0;break;case 0:h.webgl2Supported=!1}return h}var r=8,u=4,i="deviceInfo1",f=14;t.detectCapability=h}(w||(w={})),function(t){function p(){e=1.06;i=.34;o=1.15;l={};r={"es-mx":1.02,"zh-tw":1.66,"en-us":1,"en-za":.94,"ko-kr":2.09,"fr-be":1.51,"en-au":1.73,"en-ca":1.53,"en-id":.94,"en-gb":1.57,"de-de":1.66,"ja-jp":1.31,"de-at":1.49,"fr-fr":1.23,"nb-no":1.86,"en-ww":1.19,"fr-ca":1.45,"en-my":1.46,"es-es":1.49,"pt-br":1.1,"pl-pl":1.58,"en-ph":1.17,"it-it":1.42,"en-in":1.12,"nl-nl":1.49,"en-xa":1.14,"es-xl":1.13,"pt-pt":1.4,"es-us":1.34,"es-cl":1.2,"en-nz":1.55,"en-ie":1.5,"de-ch":1.89,"es-ar":.97,"da-dk":1.68,"fi-fi":1.54,"en-sg":1.35,"ru-ru":.51,"ar-xa":.75,"nl-be":1.68,"tr-tr":1.2,"sv-se":1.82,"fr-ch":1.86,"ar-sa":1.04,"ar-eg":.76,"zh-hk":1.82,"ar-ae":1.39};u={"1":1,"2":1.25,"3":1.26};f={"-ke1csa":1.19,"-fgfqf2":.96,dtpw4v:1.19,"-epl5g2":.84,"144":.42,"-o5n9cn":1,"-3ez3bv":.29,"-7n9ywj":.7,"-bd4mmp":.85,"485n1d":.33,l3idwp:.85,kw12oe:.91,v4odri:.64,"-ynpst6":.76,"-r36ms":.48,i5vnte:1.72,"-cudc9s":.5,fy90qb:1,rzpnny:.85,"-ud7pzl":.56,"-5pbaid":.52,"-oy8gj6":1.47,g5iqvb:.48,"-4p2mwz":1.3,rmb19n:.65,d0k0uf:.6,"-xvpe7m":.66,"-5xorlj":.71,"40e8gy":.66,rs7uy5:.62,"-wla8er":.43,"-wxls0g":.32,to3tv7:1.02,fplv1x:1.04,w62xcl:1.62,"-tuzakf":1.27,w4dmmo:1.49,am4tlg:.2,"26t1n6":.2,"6egxmb":.2,y82npi:.2,yuj1ho:.45,etspkl:.19,"-6ii8cz":.19,"-ftbpe8":1.14,"-p7y3x3":.88,"-fynr8v":.3,"2ldc6l":.43,"-pigngx":.27,"-th8zjs":.64,qpqwgk:1.4,f13uyv:1.47,f6kb36:1.74,"-z0zbxm":1.58,nokdui:.49};h={firefox:.9,chrome:.9,silk:.5}}function w(){e=1.35;i=.3;o=e*2;h={};r={"en-us":1,"en-gb":1.13,"ja-jp":1.08,"de-de":1.24,"en-ww":.95,"fr-fr":1.04,"en-in":.84,"en-au":1.11,"en-ca":1.14,"pt-br":.93,"es-es":1.14,"it-it":1.09,"nl-nl":1.19,"pl-pl":1.18,"es-mx":.89,"es-xl":.85,"en-xa":.79,"en-ph":.81,"en-id":.71,"nl-be":1.18,"de-at":1.18,"sv-se":1.28,"de-ch":1.23,"ko-kr":1.58,"en-za":.78,"pt-pt":1.15,"fr-ca":1.14,"zh-tw":1.11,"es-ar":.89,"en-my":.91,"en-ie":1.13,"en-nz":1.04,"fr-be":1.15,"tr-tr":.82,"en-sg":.93,"nb-no":1.27,"es-cl":.9,"da-dk":1.23,"es-us":.88,"fi-fi":1.22,"ar-sa":.63,"fr-ch":1.19,"ru-ru":.64,"zh-hk":1.21,"ar-eg":.59,"ar-xa":.56};f={"-ke1csa":1.18,"-fgfqf2":1,dtpw4v:1.13,"-epl5g2":.88,"-o5n9cn":.96,"-3ez3bv":.24,"144":.55,"-7n9ywj":.75,"-bd4mmp":.96,l3idwp:.98,"485n1d":.53,"-urd3t6":.61,kw12oe:1.03,v4odri:.71,"-ynpst6":.93,"-r36ms":.84,i5vnte:1.41,"-cudc9s":.73,fy90qb:1.03,rzpnny:.92,"-ud7pzl":.69,"-5pbaid":.6,"-oy8gj6":1.37,g5iqvb:.57,"-4p2mwz":1.03,rmb19n:.78,d0k0uf:.7,"-xvpe7m":.78,"-5xorlj":.84,"40e8gy":.72,rs7uy5:.91,"-wla8er":.49,"-wxls0g":.52,am4tlg:.23,y82npi:.22,"-6ii8cz":.22,etspkl:.22,"6egxmb":.22,"26t1n6":.23,w62xcl:1.31,to3tv7:1.18,w4dmmo:1.22,"-tuzakf":1.18,fplv1x:1.15,yuj1ho:.66,"-fynr8v":.61,"-p7y3x3":.9,"-ftbpe8":1.07,"-th8zjs":.63,"-pigngx":.45,"2ldc6l":.86,"-z0zbxm":1.63,f6kb36:1.34,nokdui:.58,qpqwgk:1.2,"-abq31m":1.34,f13uyv:1.22,"-wn38gm":1.15,ssx4xh:.5,eyhusn:1.16,"-bnoc95":1.12,"-mext09":.45,i2t7ts:1.1,"-i3bixe":.4,"8jgvat":1.05,"-9c4v1n":1.19,"-xpuu6z":1.01,"-pxxpec":.44,"-o93bav":1.15,"-aalchl":1.08,"2lm7hy":1.24,"-d3q7d2":.82,i7kyjb:1.34,n980vm:.6,"-ao6edv":.3};l={"6":1.25,"4":1,"12":1.32,"2":.69};u={"1":1,"2":1.67}}function b(){var e=!1,i,o=Microsoft.Maps.globalConfig.testHooksAllowed&&window.mockDocument,h=o||n.skipGPUlsop,r,f,u,t,c,l;return h||(f=s.getItem(a),f&&(r=JSON.parse(f))),r||(u=(o||document).createElement("canvas"),u.width=1,u.height=1,t=u.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}),e=!!t,t||(t=u.getContext("webgl",{failIfMajorPerformanceCaveat:!1})),c=t===null||t===void 0?void 0:t.getExtension("WEBGL_debug_renderer_info"),i=t===null||t===void 0?void 0:t.getParameter(c.UNMASKED_RENDERER_WEBGL).toLowerCase(),l=!!i,i=tt(i),r={gpuRenderer:i,webgl2Supported:e},!h&&l&&s.setItem(a,JSON.stringify(r),y)),r}function k(t,r,u,f,o){var l=n.deviceClassifierV2==="v2",h,c;l?p():w();h=1;try{var a="intel(r) ",k="amd radeon(tm) ",nt=" direct3d11",tt=["swiftshader","software adapter","llvmpipe","microsoft basic render driver","mobile ".concat(a),"direct3d9ex"],it=["b43","g41","hd graphics","uhd graphics 600","hd graphics 4000","hd graphics family","hd graphics 5500","uhd graphics 605"],rt=["r5 graphics"],ut=["uhd graphics 630","hd graphics 630","hd graphics 530","hd graphics 4600","uhd graphics","iris(r) plus graphics","iris(r) xe graphics"],ft=["vega 8 graphics"],s=function(n,i,r){return n.some(function(n){var u=i?n:"".concat(r?a:k).concat(n).concat(nt);return t.indexOf(u)>-1})},y=function(){return!t||s(tt,!0)||s(it,!1,!0)||s(rt,!1,!1)},b=function(){return t&&(s(ut,!1,!0)||s(ft,!1,!1))};r=v(t);c=l?d(t,r,b,y,f):g(t,r,b,y,u,f,o);h=c>=e?0:c<i?2:1}catch(et){h=1}return h}function d(t,e,s,c,l){var p=Microsoft.Maps.globalConfig,a=0,y,v;return a=f[e]?f[e]:t.indexOf("apple")>-1||s()?o:c()?i:1,n.isSlowPartner&&(a/=2),y=p.dynamicProperties,y&&(v=y.market,v=v&&v.toLowerCase(),r[v]&&(a*=r[v]),h[y.browser]&&(a*=h[y.browser])),l=l>3?3:l,u[l]&&(a*=u[l]),a}function g(t,s,h,c,a,v,y){var d=Microsoft.Maps.globalConfig,p=0,k,w,b;return p=t.indexOf("apple")>-1&&v>1?o:f[s]?f[s]:h()?o:c()||!y?i:(e+i)/2,k=d.dynamicProperties,(n.isSlowPartner||k&&k.likelyBot)&&(p/=2),k&&(w=k.market,w=w&&w.toLowerCase(),r[w]&&(p*=r[w])),b=2,a>=12?b=12:a>=6?b=6:a>=4&&(b=4),l[b]&&(p*=l[b]),v=v>1?2:1,u[v]&&(p*=u[v]),p}function nt(){var t="none",i;return matchMedia("(-ms-high-contrast: white-on-black)").matches?t="dark":matchMedia("(-ms-high-contrast: black-on-white)").matches?t="light":(matchMedia("(-ms-high-contrast: active)").matches||matchMedia("(inverted-colors: inverted)").matches)&&(t="dark"),i=n.overrideHighContrast,i&&(t=i===1?"dark":"light"),t}function v(n){for(var t=0,i=0;i<n.length;i++)t=(t<<5)-t+n.charCodeAt(i)|0;return t.toString(36)}function tt(n){return n?(n=n.replaceAll(",",".").replaceAll(":",".").toLowerCase(),n=n.replace(/\s{2,}/g," ").replace(/d3d11-(\d+\.)+\d+/g,"d3d11").replace(/dll-(\d+\.)+\d+/g,"dll").replace(/\s\(0x\d+\w*\)/g,"")):n="-1",n}function it(t){var u=b(),f=v(u.gpuRenderer),r=u.webgl2Supported,s=u.gpuRenderer,h=rt(t),a=ut(t),e=k(s,f,h,a,r),y=nt(),i,o,l;i=e===0?0:1;n.isRasterMode&&(i=2);n.fullVecForMedium&&e===1&&(i=0);o=n.overrideRenderingMode;o!==-1&&(i=o);c.setCookie("rm",i.toString());c.setCookie("gpu",f);l=n.overrideWebGL2;switch(l){case 1:r=!0;break;case 0:r=!1}return{renderingMode:i,deviceClassification:e,contrastMode:y,cpuCores:h,gpuRenderer:s,webgl2Supported:r,gpuRendererHash:f}}function rt(n){var t=(n||window).navigator;return t&&t.hardwareConcurrency>0?t.hardwareConcurrency:-1}function ut(n){var t=(n||window).devicePixelRatio;return t>0?t:1}var a="deviceInfo2",y=14,e,i,o,r,u,f,h,l;t.detectCapability=it}(b||(b={})),function(n){function t(n,t,i){return Math.min(Math.max(n,t),i)}function i(n,i,r,u){u===void 0&&(u=256);var o=t(n,-85.05112878,85.05112878),s=t(i,-180,180),h=(s+180)/360,e=Math.sin(o*Math.PI/180),c=.5-Math.log((1+e)/(1-e))/(4*Math.PI),f=Math.pow(2,r)*u;return{x:t(h*f+.5,0,f-1),y:t(c*f+.5,0,f-1)}}function r(n,t){var i=e.degreesToRadians(t.latitude),r=e.degreesToRadians(n.latitude),o=e.degreesToRadians(t.longitude),s=e.degreesToRadians(n.longitude),h=Math.abs(i-r),c=Math.abs(o-s),u=Math.sin(h/2),f=Math.sin(c/2),l=2*Math.asin(Math.sqrt(u*u+Math.cos(r)*Math.cos(i)*f*f));return 6378137*l}function u(t,i,r){return e.log2(Math.cos(e.degreesToRadians(t))*n.C_earthCircumference/(r*i))}function f(n){var u=.675,f=7,r,a;if(n.length<15)return n;var t=n.map(function(n){return n[1]}),i=n.map(function(n){return n[0]}),e=t.sort()[Math.floor(t.length/2)],o=i.sort()[Math.floor(i.length/2)],s=t.map(function(n){return Math.abs(n-e)}),h=i.map(function(n){return Math.abs(n-o)}),c=s.sort()[Math.floor(s.length/2)],l=h.sort()[Math.floor(h.length/2)];return c===0||l===0?n:(r=n.filter(function(n){var t=u*Math.abs(n[1]-e)/c<f,i=u*Math.abs(n[0]-o)/l<f;return t&&i}),a=n.length>20?Math.ceil(n.length/10):2,n.length-r.length>a?n:r)}n.C_earthCircumference=12756274*Math.PI;n.C_radiansPerDegree=Math.PI/180;n.latlongToPixelXY=i;n.greatCircleDistance=r;n.getZoomFromMetersPerPixel=u;n.cullOutlierPositions=f}(f||(f={})),function(n){function t(t){return Math.log(t)/n.loge2}function i(t){return t*n.radiansPerDegree}n.radiansPerDegree=Math.PI/180;n.loge2=Math.log(2);n.log2=t;n.degreesToRadians=i}(e||(e={})),function(n){function i(n,t,i){i===void 0&&(i=!0);var u=typeof n=="string"?new URL(n):new URL(n.href),r=u.searchParams.get(t)||"";return i?decodeURIComponent(r):r}function r(n){for(var f=NaN,e=NaN,s=NaN,h=NaN,r,t=n.length,i=new Array(t),u=0,c,o,l;t--;)r=n[t],r&&r.length>=2&&(f=isNaN(f)?r[1]:Math.max(f,r[1]),e=isNaN(e)?r[1]:Math.min(e,r[1]),i[u++]=r[0]);if(u){for(i.length=u,i.sort(function(n,t){return n-t}),c=i[0]+360-i[u-1],o=0,t=1;t<u;t++)l=i[t]-i[t-1],l>c&&(c=l,o=t);s=i[o];h=i[(o||u)-1]}return isNaN(s)||isNaN(e)||isNaN(h)||isNaN(f)?null:[s,e,h,f]}function o(){var v,i=null,it="data-entity",o=[],y=document.querySelectorAll("[".concat(it,"]")),l,p,w,s,a,b,e,k,d,nt,tt,h,t,n;if(y)for(l=0;l<y.length;++l)p=y[l].getAttribute(it),p&&o.push(JSON.parse(p));if(w=o.length,w>1){for(s=[],a=0,b=o;a<b.length;a++)h=b[a],e=h.geometry,e&&e.x&&e.y&&s.push([e.x,e.y]);u=!0;s=f.cullOutlierPositions(s);i={bounds:r(s)}}else if(w===1&&o[0]){if(k="data-boundingbox",d=document.querySelector("[".concat(k,"]")),d){var rt=d.getAttribute(k),g=rt&&JSON.parse(rt),c=g===null||g===void 0?void 0:g.boundingBox;(c===null||c===void 0?void 0:c.length)>1&&(nt=c[0],tt=c[1],i={bounds:r([[nt.longitude,nt.latitude],[tt.longitude,tt.latitude]])})}i||(h=o[0],t=h.geometry,h.geometryType===1&&t?i={center:[t.x,t.y],zoom:((v=mapControlViewData.globalConfigs.features.taskFramework)===null||v===void 0?void 0:v.defaultZoomLevel)||16}:(n=t===null||t===void 0?void 0:t.bounds,(n===null||n===void 0?void 0:n.length)>=4&&(i={bounds:r([[n[1],n[0]],[n[3],n[2]]])})))}return i}function s(){for(var e,u=i(window.location.href,"ttid",!0).split(","),f=[],t=[],o=function(n){var i=parseFloat(n);isFinite(i)&&t.unshift(i)},n=0;n<u.length;n++)n%2==0?o(u[n]):(o(u[n]),t.length===2&&f.push(t),t=[]);return e=undefined,f.length>1&&(e={bounds:r(f)}),e}function e(n){var r=window.localStorage,t=r.getItem(n),u,i,f;return t&&(u="_$Maps_".concat(n,"_expiration"),i=r.getItem(u),i&&(f=parseInt(i),Date.now()>f&&(t=null))),t}function h(){var n=parseFloat(e("centerLatitude")),t=parseFloat(e("centerLongitude"));return isFinite(n)&&isFinite(t)?n+","+t:null}function c(n,t){var i,r,u;return(t===void 0&&(t=","),n&&(i=n.split(t),i.length===2&&(r=parseFloat(i[0]),u=parseFloat(i[1]),isFinite(r)&&isFinite(u))))?[u,r]:null}function l(){var f=mapControlViewData.mapControlConfig.isRasterMode,n=null,r=mapControlViewData.globalConfigs.dynamicProperties,u,e;return i(window.location.href,"cp",!0)&&(r.isExplicitCenterPointSet=!0),t=document.querySelector("div.nonajaxLGCardPrimer"),i(window.location.href,"cp",!0)||t?i(window.location.href,"ttid",!0)&&(n=s()):n=o(),n||(u=r.location,u&&u!=="0,0"||(u=r.reverseIPLocation,u||(e=h(),e&&(u=e))),n={center:c(u),zoom:r.zoom}),r.style!=="x"&&(n=n||{},n.bearing=f?0:r.bearing,n.pitch=f?0:r.pitch),n.zoom&&f&&(n.zoom=Math.round(n.zoom)),n}function a(n,t,i,r){var u={},s={latitude:n[1],longitude:n[0]},h={latitude:n[1],longitude:n[2]},c={latitude:n[3],longitude:n[0]},l={latitude:n[3],longitude:n[2]},a={latitude:n[1],longitude:0},v={latitude:n[3],longitude:0},e={latitude:(n[3]+n[1])/2,longitude:(n[0]+n[2])/2},y=f.greatCircleDistance(s,h),p=f.greatCircleDistance(c,l),w=Math.max(y,p),b=f.greatCircleDistance(a,v),k=w/t,d=b/i,o=Math.max(k,d);return u.zoom=o!==0?f.getZoomFromMetersPerPixel(e.latitude,o,r):16,u.center=[e.longitude,e.latitude],u}function v(){var i=0,r="data-mapcardwidth",u=document.querySelector("[".concat(r,"]")),f="data-inittaskareawidth",e=document.querySelector("[".concat(f,"]")),n;return!window.history.state&&t?(n=parseInt(t.getAttribute("data-width")),isNaN(n)||(i=n)):u?(n=parseInt(u.getAttribute(r)),isNaN(n)||(i=n)):e&&(n=parseInt(e.getAttribute(f)),isNaN(n)||(i=n)),i>0&&(i+=32),i}function y(t,i,r){n.loadingView.bounds&&(n.loadingView=a(n.loadingView.bounds,t,i,r),u&&(n.loadingView.zoom-=n.zoomAdjustment))}var t,u=!1;n.zoomAdjustment=.5;n.loadingView=l();n.contentFirstPadding=v();n.updateLoadingView=y}(a||(a={})),function(n){function t(t){n.allowLogging&&!1&&console.log(t)}function i(n){var t=null,r,i,u,f;if(n)for(t=window,r=n.split("."),i=0,u=r.length;i<u;i++)if(f=r[i],t=t[f],!t){t=null;break}return t}n.allowLogging=!1;n.logData=t;n.resolveType=i}(u||(u={}));var ii="container",ri="window",st=function(){function n(n,t,i,r){this.factoryName=n;this.factoryDef=t;this.resolver=i;this.container=r;this._className=t.className;this._params=fi(t.parameters);this._isSingleton=t.isSingleton;this._constructor=null;this._dependenciesResolved=!1;this._instance=t.instance||undefined}return n.prototype.create=function(n){var t,f,r,e,c;if(n=n||{},this._instance)return this._instance;if(!this.container.isDisposed&&(this._dependenciesResolved||this.resolver.isResolved(this.factoryDef))&&!this._failed){for(this._dependenciesResolved=!0,t=[],f=this._params.length;f--;){var o=this._params[f],i=o.name,s=ei(i);if(s)t[f]=s;else if(i===ii)t[f]=this.container;else if(i===ri)t[f]=window;else if(this.container.canResolve(i)&&!n[i])t[f]=this.container.instance(i,{});else if(t[f]=n[i],!o.optional&&n[i]===undefined)throw'The parameter "'.concat(i,'" is required but was not supplied.');}if(this._constructor||(this._constructor=u.resolveType(this._className)),r=void 0,this.factoryDef.factoryType==="reference")r=this._constructor;else try{if(u.logData("create - makeObject : class ".concat(this._className)),!this._constructor)throw new Error("".concat(this._className," has no constructor"));r=ui(this._constructor,t);u.logData("create - after makeObject : args count ".concat(t.length))}catch(h){e=this.resolver.logger;e&&e.logCriticalError&&(c={feature:"Dragonfly",action:"ERR",data:{errorMessage:"Error creating ".concat(this._className)}},e.logCriticalError(h,c,!0,!0));throw h;}return r&&r.initialize&&r.initialize.apply(r,t),this._isSingleton&&(this._instance=r),r}throw Error("Failed to create ".concat(this.factoryName,": ").concat(this._lastError?this._lastError.message:""," "));},n.prototype.createAsync=function(n,t,i,r){var f=this,u;r?this.createInternal(n,t,i):(u=function(){f.createInternal(n,t,i)},o.setAsync(u))},n.prototype.createInternal=function(n,t,i){var r=this,f=function(n){i&&i(r.factoryName,n)},e;this._instance?t&&t(this._instance,this.factoryName):this._failed?f(this._lastError):(e=function(){var o,i;r._dependenciesResolved=!0;try{u.logData("createAsync - _factoryName ".concat(r.factoryName));o=r.create(n);t&&t(o,r.factoryName)}catch(e){i=r.resolver.logger;i&&i.logCriticalError&&i.logCriticalError(e,null,!0,!0);r._failed=!0;r._lastError=e;f(e)}},this.resolver.resolve(this.factoryDef,e))},n.prototype.downloadDependency=function(n,t){var i=this,r=function(){var t=function(){u.logData("resolved factoryName ".concat(i.factoryName));n&&n()};i.resolver.resolve(i.factoryDef,t)};t?o.setAsync(function(){r()}):r()},n.prototype.getInstance=function(){return this._instance},n}();function ui(n,t){var r=Object.create(n.prototype),i=n.apply(r,t);return i&&typeof i=="object"?i:r}function fi(n){for(var u=[],i=n?n.length:0,t,r;i--;)t=n[i]+"",r=t.charAt(0)==="-",r&&(t=t.substring(1)),u[i]={name:t,optional:r};return u}function ei(n){var i=n.length,t;return i>2&&(t=n.charAt(0),t===n.charAt(i-1)&&(t==='"'||t==="'"))?n.slice(1,i-1):null}k=/Factory$/;ht=function(){function n(n,t){this.config=n;this.resolver=t;this._factories={};t.setContainer(this);this._setupFactories(n.factories)}return n.prototype.instanceAsync=function(n,t,i,r,f){this._createInstance(n,i,!0,t,f,r);u.logData("instanceAsync - ".concat(n))},n.prototype.instance=function(n,t){return this._createInstance(n,t,!1)},n.prototype.instanceAsyncAll=function(n,t,i,r){for(var f={},h=0,u=!1,e=n.length,o=e;o--;){var s=n[o],c=function(n,i){u||(f[i]=n,++h===e&&t&&t(f))},l=function(n,t){u||(u=!0,r&&r(n,t))};this._createInstance(s.name,s.args,!0,c,l,i)}},n.prototype.registerInstance=function(n,t){this._factories[n]=new st(n,{instance:t})},n.prototype.unregisterInstance=function(n){delete this._factories[n]},n.prototype.dispose=function(){for(var i,n,r=Object.keys(this._factories),t=0,u=r.length;t<u;t++)i=this._factories[r[t]],i&&(n=i.getInstance(),n&&n.dispose&&n.dispose()),this._factories={},this.isDisposed=!0},n.prototype.checkConsistency=function(){var n=this},n.prototype.getFactory=function(n,t){var i=t?this.config.factories:this._factories;return i[n.replace(k,"")]},n.prototype.canResolve=function(n){return!!this.getFactory(n)},n.prototype.addCatalog=function(n){for(var i,e=n.sources,u=n.factories,r=Object.keys(e),t=0,f=r.length;t<f;t++)i=r[t],this.config.sources[i]=e[i];for(r=Object.keys(u),t=0,f=r.length;t<f;t++)i=r[t],this.config.factories[i]=u[i];this._setupFactories(u)},n.prototype.downloadDependencyAsync=function(n,t){this.downloadDependency(n,t,!0)},n.prototype.downloadDependency=function(n,t,i){var r=this.getFactory(n);if(!r)throw"Factory ".concat(n," not found");r.downloadDependency(t,i)},n.prototype._createInstance=function(n,t,i,r,u,f){var e=this.getFactory(n),o;if(!e){if(o='Requested factory "'.concat(n,'" does not exist'),i)return u&&u(n,o),undefined;throw new Error(o);}if(k.test(n))return function(n){return e.create(n)};if(i)e.createAsync(t,r,u,f);else return e.create(t);return undefined},n.prototype._setupFactories=function(n){for(var t,u,r=Object.keys(n),i=0,f=r.length;i<f;i++)t=r[i],u=n[t],this._factories[t]=new st(t,u,this.resolver,this)},n}();function wi(n){return n.resolver}function oi(n){return n._params}function si(n){return n.factoryName}function hi(n){return n._className}function bi(n){var h=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,c=/([^\s,]+)/g,e=si(n),i=oi(n).map(function(n){return n.name}),o=u.resolveType(hi(n)),r,f,t,s;if(!o){console.log("Could not resolve ".concat(e));return}if(r=l(o),f=!1,i.length!==r.length)f=!0;else for(t=0,s=i.length;t<s;t++)if(!i[t].toLowerCase().endsWith(r[t].toLowerCase())){f=!0;break}f&&(console.group("Mismatch with ".concat(e)),console.log("Config params: ".concat(i.join(","))),console.log("Ctor params  : ".concat(r.join(","))),console.groupEnd())}var d=function(){function n(){this._hash={};Array.prototype.push.apply(this,[])}return n.prototype.get=function(n){var t=this[n];return t&&t.value},n.prototype.add=function(n,t){this._hash[n]||(this._hash[n]=!0,Array.prototype.push.call(this,{key:n,value:t}))},n.prototype.append=function(n){for(var i,t=0,r=n.length;t<r;t++)i=n[t],this.add(i.key,i.value)},n}(),ci=function(){function i(n,t,i,r){this.sourceKey=n;this.sourceType=t;this.endpoint=i;this.logger=r;this._retryCount=0;this.oncomplete=function(){};this._startRequestWithRetry()}return i.prototype.send=function(){var i=this,n=this._retryCount===0?this.endpoint:"".concat(this.endpoint).concat(this.endpoint.includes("?")?"&":"?","retry=").concat(this._retryCount),t;this.sourceType!=="css"&&this.sourceType!=="Stylesheet"?this.sourceElement.src=n:this.sourceElement.href=n;u.logData("createReq - send: ".concat(n));t=document.getElementsByTagName("head")[0];t.appendChild(this.sourceElement)},i._getSourceElem=function(n){var i,r=t.addCrossOriginAttr;return n!=="css"&&n!=="Stylesheet"?(i=document.createElement("script"),i.type=i.async!==undefined?"text/javascript":"text/plain",i.async=!1,i.patch=function(){if(this.type==="text/plain"){var t=this.parentNode,n=document.createElement("script");r&&(n.crossOrigin="anonymous");n.type="text/javascript";n.src=this.src;t.replaceChild(n,this)}}):(i=document.createElement("link"),i.type="text/css",i.setAttribute("rel","stylesheet")),r&&(i.crossOrigin="anonymous"),i},i.prototype._startRequestWithRetry=function(){var r=this;this.sourceElement=i._getSourceElem(this.sourceType);this.sourceElement.onload=function(){return r._onstatechange()};this.sourceElement.onerror=function(){var i="WrappedRequest onerror [".concat(r._retryCount,"]: ").concat(r.endpoint),f=performance.getEntriesByType("resource").filter(function(n){return n.name&&n.name.startsWith(r.endpoint)&&typeof n.responseStatus!="undefined"}).map(function(n){return n.responseStatus}),e;f.length>r._retryCount&&(i+=", StatusCode:".concat(f[r._retryCount]));u.logData(i);r.logger&&r.logger.logCriticalError&&!n.isSlowPartner&&r.logger.logCriticalError(new Error(i),null,!0,!0);e=t.dynamicProperties.likelyBot||t.isTestTraffic||!navigator.userAgent;r._retryCount<n.maxDragonflyResourceRetry&&!e?(r._retryCount++,r._startRequestWithRetry(),r.send()):r._onstatechange()}},i.prototype._onstatechange=function(){var n=this.sourceElement;if(!this._done){this._done=!0;n.patch&&n.patch();this.oncomplete(this.sourceKey)}},i}(),ct=window.matchMedia("(-ms-high-contrast:active)").matches,li=function(){function n(n,t){this.logger=t;this.requested=[];this._revKeyLookup={};this._perfMarks={};this._sources=n.sources}return n.prototype.resolve=function(n,t){this._fetchDependencies(n.sourceKey,this._getDependencyChain(n),t)},n.prototype.resolveBySourceKey=function(n,t){this._fetchDependencies(n,this._getDependencyChain(n),t)},n.prototype.isResolved=function(n){return lt(this._getDependencyChain(n)).length===0},n.prototype.setContainer=function(n){this._container=n},n.getRequest=function(n,t,i,r){return new ci(n,t,i,r)},n.prototype._getDepChainSK=function(n){var r=new d,i,u,f,e;if(!n)return r;if(i=this._sources[n],!i)throw"Could not resolve sourceKey: ".concat(n);for(u=i.sdkDependencies&&t.isSDK?i.sdkDependencies:i.dependencies,f=u&&u.length;f--;)e=this._getDepChainSK(u[f]),r.append(e);return r.add(n,i),r},n.prototype._getDepChainFact=function(n){var t=n.chain,r,u,i,f,e,o;if(!t||!(t instanceof d)){for(t=new d,r=n.parameters,u=r&&r.length;u--;)i=r[u],i.charAt(0)==="-"&&(i=i.substring(1)),f=this._container.getFactory(i,!0),f&&(e=this._getDepChainFact(f),t.append(e));o=this._getDepChainSK(n.sourceKey);t.append(o);n.chain=t}return t},n.prototype._getDependencyChain=function(n){return typeof n=="string"?this._getDepChainSK(n):this._getDepChainFact(n)},n.prototype._fetchDependencies=function(n,t,i){var r=lt(t),e,f,o,s;if(u.allowLogging){for(e=[],f=0,o=r.length;f<o;f++)s=ct&&r[f].highContrastEndpoint?r[f].highContrastEndpoint:r[f].endpoint,e.push(s);u.logData("fetchDependencies for ".concat(n,", dependencies: ").concat(e.length>0?e.join():"none"))}r.length>0?this._requestBundle(n,r,function(){i&&i()}):i&&i()},n.prototype._requestBundle=function(i,r,f){for(var s=this,c=function(o){var h=r[o],a=ct&&h.highContrastEndpoint?h.highContrastEndpoint:h.endpoint,c=yi(e._sources,e._revKeyLookup,a),v;u.logData("requestBundle - ".concat(h.sourceType,", source ").concat(a||""));var p=vi(i,c,h,r,f),y=function(n){p();s._perfMarks[n]===1&&(performance.measure("Dragonfly: "+n,n),s._perfMarks[n]=2)},w=h.pendingCallbacks;if(w)h.pendingCallbacks.push(y);else if(h.pendingCallbacks=[],a)e._perfMarks[c]||(performance.mark(c),e._perfMarks[c]=1),v=n.getRequest(c,h.sourceType,a,e.logger),u.logData("createRequest - endpoint : ".concat(a)),v.oncomplete=y,v.send(),(t.testHooksEnabled||t.testHooksAllowed||u.allowLogging)&&e.requested.push(l(l({},h),{sourcekey:c}));else throw new Error("Unrecognized source definition");},e=this,o=0,h=r.length;o<h;o++)c(o,h)},n}();function ai(n){for(var t=n.length;t--;)if(!n[t].loaded)return!1;return!0}function vi(n,t,i,r,f){return function(){var e,o;if(i.loaded=!0,u.logData("onRequestComplete for ".concat(n,", sourceKey ").concat(t,", endpoint ").concat(i.endpoint)),ai(r)&&f&&f(r),e=i.pendingCallbacks,e)for(o=void 0;o=e.pop();)o(t)}}function lt(n){for(var t,r=[],u={},i=0,f=n.length;i<f;i++)t=n.get(i),u.hasOwnProperty(t.endpoint)||(t.loaded||r.push(t),u[t.endpoint]=1);return r}function yi(n,t,i){var f=t[i],r,e,u,o;if(!f)for(r=0,e=Object.keys(n);r<e.length;r++)if(u=e[r],o=n[u],t[o.endpoint]=u,i===o.endpoint){f=u;break}return f}if(at=function(){function t(t,r){var c=this,e,p,o,h,w;this._downloadedLabelImages={};this._downloadedBaseImages={};this._mapStyleDefinition=n.mapStyleDefinition;this._style=this._mapStyleDefinition&&this._getMapStyleName(r);var l=i.DeviceInfo,v=i.dragonflyCatalog,b=l.contrastMode,u=this._getTilePrimerConfig(b);if(this._parentDiv=typeof t=="string"?document.getElementById(t):t,this._parentDiv&&(this._width=this._parentDiv.offsetWidth,this._height=this._parentDiv.offsetHeight,this._tileSize=(u===null||u===void 0?void 0:u.tileSize)||256,a.updateLoadingView(this._width,this._height,this._tileSize),u&&(l.renderingMode===0?this._tileFormat=u.baseWithLabelUrl:(this._tileFormat=u.baseUrl,this._labelFormat=u.labelUrl),this._tileFormat))){var f=a.loadingView,s=f.zoom,y=Math.round(s);if(this._scale=1+(Math.pow(2,s)-Math.pow(2,y))/Math.pow(2,y),this._scaledTileSize=this._tileSize*this._scale,this._zoom=Math.max(3,s),this._zoomRounded=Math.round(this._zoom),n.dfKeysBeforeTilePrimer.length>0&&v){for(e=new Set,p=function(n){var t=v.sources[n];t.loaded||(e.add(n),t.pendingCallbacks.push(function(){e.delete(n);e.size===0&&c.loadTilePrimer(f)}))},o=0,h=n.dfKeysBeforeTilePrimer;o<h.length;o++)w=h[o],p(w);e.size===0&&this.loadTilePrimer(f);_w.setTimeout(function(){c.loadTilePrimer(f)},n.tilePrimerMaxDelay)}else this.loadTilePrimer(f)}}return t.prototype.unWrap=function(){var n;this._tileContainer&&((n=this._parentDiv)===null||n===void 0?void 0:n.removeChild(this._tileContainer),this._mapStyleDefinition=this._tileContainer=this._parentDiv=this._downloadedLabelImages=null)},t.prototype.loadTilePrimer=function(n){this._tilePrimerInitialized||(this._tilePrimerInitialized=!0,this._tilesLoaded=0,this._maxTileCoordinate=Math.pow(2,this._zoom)-1,this._centerTile=f.latlongToPixelXY(n.center[1],n.center[0],this._zoom,this._tileSize),this._centerTileX=this._centerTile.x/this._scaledTileSize,this._centerTileY=this._centerTile.y/this._scaledTileSize,this._centerOffset={x:-(this._centerTile.x%this._scaledTileSize),y:-(this._centerTile.y%this._scaledTileSize)+(this._scaledTileSize-this._tileSize)},this._centerOffset.x+=this._width/2,this._centerOffset.y+=this._height/2,this._tileContainer=document.createElement("div"),this._tileContainer.style.cssText="position:absolute;width:".concat(this._width,"px;").concat(this._isRtl()?"left":"right",":0px;z-index:1;"),this._baseTileContainer=document.createElement("div"),this._tileContainer.appendChild(this._baseTileContainer),this._labelFormat&&(this._labelTileContainer=document.createElement("div"),this._tileContainer.appendChild(this._labelTileContainer),this._labelTileContainer.style.cssText="z-index:1;position:relative"),this._parentDiv.appendChild(this._tileContainer),this._addTiles())},t.prototype._getMapStyleName=function(n){var t,i;return this._mapStyleDefinition&&(t=this._mapStyleDefinition.defaultStyle,n&&(i=this._mapStyleDefinition.styles.find(function(t){return t.styleKey===n||t.name===n}),i&&(t=i.name))),t},t.prototype._getTilePrimerConfig=function(n){var f=this,i,r,t=(i=this._mapStyleDefinition)===null||i===void 0?void 0:i.styles.find(function(n){return n.name===f._style}),u;return t&&(n==="none"?r=t.primer:t.contrast&&(u=t.contrast.find(function(t){return t.mode===n}),u&&(r=u.primer))),r},t.prototype._addTile=function(i,r,u,f){var e=this,o=document.createElement("img"),h,s;o.style.cssText="transform-origin:bottom left;transform:scale(".concat(this._scale,");\n            ").concat(n.tileBoundary?"outline:1px solid #555":"",";position:absolute;\n            top:").concat(u.y,"px;left:").concat(u.x,"px");s=function(n){n&&(o.src=n);o.onload=o.onerror=o.onabort=null;++e._tilesLoaded;window.clearTimeout(h);e._downloadedLabelImages!==null&&(f?e._downloadedBaseImages[r]?e._labelTileContainer.appendChild(o):e._downloadedLabelImages[r]=o:(e._baseTileContainer.appendChild(o),e._downloadedBaseImages[r]=!0,e._downloadedLabelImages[r]&&(e._labelTileContainer.appendChild(e._downloadedLabelImages[r]),delete e._downloadedLabelImages[r],delete e._downloadedBaseImages[r])));e._tilesLoaded===e._tileCount&&(e.tilePrimerLoadTime=performance.now())};h=setTimeout(function(){return s()},t.C_TileTimeout);o.onload=function(){s()};o.onerror=o.onabort=function(){s()};o.src=i.replace("raster://","https://")},t.prototype._getImageUrl=function(n,t){return n.replace("{quadkey}",t)},t.prototype._addTiles=function(){var i,n,r;for(this._tileX=this._centerTileX,this._tileY=this._centerTileY,this._offset=this._centerOffset,this._direction=0,this._movesLeft=1,this._step=1,i=0,this._tileCount=0;i<t.C_maxAttempts&&this._tileCount<t.C_maxTiles;i++)this._isVisible(this._offset)&&(n=this._getQuadKey(),n&&(r=!!this._labelFormat&&this._isLabelVisible(this._offset),this._addTile(this._getImageUrl(this._tileFormat,n),n,this._offset,!1),r&&this._addTile(this._getImageUrl(this._labelFormat,n),n,this._offset,!0),this._tileCount++)),this._incrementSpiral()},t.prototype._getQuadKey=function(){var i,n,t,r;if(this._tileY<0||this._tileY>this._maxTileCoordinate)return null;for(i="",n=this._zoomRounded;n>0;n--)t=0,r=1<<n-1,(this._tileX&r)!=0&&t++,(this._tileY&r)!=0&&(t+=2),i+=t;return i},t.prototype._isVisible=function(n){return n.y>-this._scaledTileSize&&n.y<this._height&&n.x>-this._scaledTileSize&&n.x<this._width},t.prototype._isLabelVisible=function(n){var t=this._scaledTileSize*.4;return n.y>-this._scaledTileSize+t&&n.y<this._height-t&&n.x>-this._scaledTileSize+t&&n.x<this._width-t},t.prototype._incrementSpiral=function(){switch(this._direction){case 0:this._tileX++;this._offset.x+=this._scaledTileSize;break;case 1:this._tileY--;this._offset.y-=this._scaledTileSize;break;case 2:this._tileX--;this._offset.x-=this._scaledTileSize;break;case 3:this._tileY++;this._offset.y+=this._scaledTileSize}this._tileX>this._maxTileCoordinate?this._tileX=0:this._tileX<0&&(this._tileX=this._maxTileCoordinate);this._movesLeft--;this._movesLeft<=0&&(this._movesLeft=Math.floor(this._step+=.5),++this._direction>3&&(this._direction=0))},t.prototype._isRtl=function(){return typeof _G=="object"&&_G&&_G.RTL},t.C_maxTiles=48,t.C_maxAttempts=128,t.C_TileTimeout=5e3,t}(),h=window,h.Microsoft=h.Microsoft||{},i=h.$MicrosoftMaps8=h.Microsoft.Maps=h.Microsoft.Maps||{},i.toString=function(){return"Microsoft.Maps"},t=i.globalConfig=mapControlViewData.globalConfigs,i.dragonflyCatalog=mapControlViewData.dragonflyCatalog,r=i.Internal=i.Internal||{},n=r.coreConfig=mapControlViewData.mapControlConfig,i.DeviceInfo=n.deviceClassifierV2==="v2"||n.deviceClassifierV2==="v3"?b.detectCapability():w.detectCapability(),r.__assign=l,r.__extends=ft,r.__spreadArray=et,r.BootstrapView=a,r.ExternalPromise=v,r.InstrumentationBase=ot,r.LocalStorageCache=s,r.MapCookies=c,r.MapMath=f,r.TilePrimer=at,r.TimeoutWrapper=o,r.VectorMath=e,i.logger=new ti,function(){function n(){var o=mapControlViewData.mapControlConfig,t=o.mapStyleDefinition,u,n,r,f,s,e;t&&!o.disStylePrefetch&&(u=mapControlViewData.globalConfigs.dynamicProperties.style||t.defaultStyle,n=t.styles.find(function(n){return n.styleKey===u||n.name===u}),n&&(r=i.DeviceInfo,f=r.renderingMode+"",n.url&&n.style&&(r.contrastMode!=="none"||n.rm!==f)&&t.styles.forEach(function(n){return n.style=null}),t.styles.forEach(function(n){return n.style&&n.url?n.url=null:null}),n.url&&!n.style&&(s=n.url.replace("{renderingMode}",f).replace("{contrastMode}",r.contrastMode+""),e={},t.addCredentials&&(e.credentials="include"),fetch(s,e).then(function(n){return n.json()}).then(function(t){return n.style=t}).catch(function(){}))))}n()}(vt||(vt={})),nt=i.dragonflyCatalog,y=r.dependencyResolver=new li(nt,i.logger),mapControlViewData.isSDK||(yt=i.globalContainer=new ht(nt,y)),pt=i.DeviceInfo.cpuCores/2,wt=Math.min(n.workerCount,pt)||1,y.resolveBySourceKey(n.atlasEntry,function(){atlas.setWorkerCount(wt);n.isRasterMode||atlas.prewarm()}),mapControlViewData.callbackOnLoad&&mapControlViewData.dragonflySourceKeys){var bt=function(){var n=h[mapControlViewData.callbackOnLoad];n?n():o.setTimeout(bt,100)},kt=[],pi=function(n){var t=new v;kt.push(t);y.resolveBySourceKey(n,function(){t.resolve()})};for(p=0,tt=mapControlViewData.dragonflySourceKeys;p<tt.length;p++)dt=tt[p],pi(dt);Promise.all(kt).then(function(){o.setTimeout(bt,0)})}else mapControlViewData.autoCreate&&(it=document.getElementById("b_header"),it&&it.classList.add("bm_oneMap"),rt=document.getElementsByTagName("body")[0],rt&&((g=rt.classList)===null||g===void 0?void 0:g[t.enableDarkMode?"add":"remove"]("b_dark")),ut=document.getElementsByTagName("html")[0],ut&&(ut.style.overflowY="hidden"),gt=function(n){n.getAzureMapFirstIdle().then(function(){_w.si_PP(Date.now());sj_evt.fire("maps:shellLoaded")});i.mapShell=n},yt.instanceAsync("MapShell",gt,{mapContainerElementOrId:"mapContainer",shellContainerElementOrId:"container"}))}catch(ni){if(i&&i.logger)i.logger.logCriticalError(ni);else throw ni;}}).call(window),function(){var c,l,o,a,v,y,p,w,s,h,b,k,d;try{"use strict";var t=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),r=function(){function t(n,i){this._onDataElementClickHandlers=[];this._attrName=n;this._featureName=i;t._initInvoked||t._init()}return t._init=function(){t._initInvoked=!0;sj_evt.bind("showSydFSC",function(){t._sydneyShown=!0});sj_evt.bind("hideSydFSC",function(){t._sydneyShown=!1})},t.prototype.getBestMapView=function(){return null},t.prototype.getSearchQueryCategories=function(){return null},t.prototype.getPermalinkState=function(n){var t=[],i=this._getFeatureState(n);return i&&t.push({featureType:this._featureName,data:i}),t},t.prototype._clearDataElementClickHandlers=function(){this._onDataElementClickHandlers&&this._onDataElementClickHandlers.length&&(this._onDataElementClickHandlers.forEach(function(n){sj_evt.unbind(n[0],n[1])}),this._onDataElementClickHandlers=[])},t.prototype._subscribeForClickEventsOnDataElements=function(n){var t=this,e="LargeMapHidden",o="LargeMapShown",s="carItemsAdded",h="Cap.ExpOn",i,r,u,f;this._overlayObject=n;this._bindClickEventsOnDataElements(_d);i=function(){t._showOrHideOverlay(!1)};sj_evt.bind(e,i);r=function(){t._showOrHideOverlay(!0)};sj_evt.bind(o,r);u=function(n){n&&n.length>1&&n[1]&&n[1].length>0&&n[1].forEach(function(n){t._bindClickEventsOnDataElements(n)})};sj_evt.bind(s,u);f=function(){var n=_d.querySelectorAll(".sa_cp");n.forEach(function(n){t._bindClickEventsOnDataElements(n)})};sj_evt.bind(h,f);this._onDataElementClickHandlers.push([e,i],[o,r],[s,u],[h,f])},t.prototype._processClickEvent=function(n){n.preventDefault();for(var t=n.currentTarget,r=t&&t.getAttribute(this._attrName),i=t;!r&&i;)i=i.parentElement,r=i&&i.getAttribute(this._attrName);this._processAttribute(t,r,!0,t)},t.prototype._processAttribute=function(i,r,u,f){var e,s,c,o;if(u===void 0&&(u=!0),t._sydneyShown&&(e=i&&i.getElementsByTagName("a"),e&&e.length!==0||(e=f&&f.getElementsByTagName("a")),e&&e.length>0&&(s=e[0],c=s.getAttribute("href"),c!==null))){_w.open(s.href,"_blank");return}if(r&&this._overlayObject&&this._overlayObject.showOrHideOverlay){this._attrVal=r;try{this._subscribeForLargeMapShown();this._overlayObject.showOrHideOverlay(!0,this,u)}catch(v){}if(o=i&&this._getAnchorElement(i,"data-h"),o){var l=o.getAttribute("data-h"),a=this._getFormCode(o),h=this._overlayObject.getMapOptions();n.logger.logObject({feature:"OverlayControl",action:"Click",data:{h:l,attribute:this._attrName,feature:this._featureName,form:a},service:h.service,scenario:h.scenario,searchQueryCategory:h.searchQueryCategory},n.globalConfig.dynamicProperties.mapsIG)}}else o=this._getAnchorElement(i,"data-h"),o&&(window.location.href=o.getAttribute("href"))},t.prototype._getFeatureState=function(){return this._attrVal},t.prototype._showOrHideOverlay=function(){},t.prototype._subscribeForLargeMapShown=function(){},t.prototype._bindClickEventsOnDataElements=function(n){var u=this,t=n.querySelectorAll("["+this._attrName+"]"),i,r;if(t!==null&&t.length>0)for(i=0,r=t.length;i<r;i++)sj_be(t[i],"click",function(n){return u._processClickEvent(n)}),this._updateInstrumentation(t[i])},t.prototype._updateInstrumentation=function(n){var t=this._getAnchorElement(n,"h"),i;t&&(i=t.getAttribute("h"));i&&(t.removeAttribute("h"),t.setAttribute("data-h",i))},t.prototype._getAnchorElement=function(n,t){var i=n.querySelector("a");if(i)return i;for(i=n;i!==document.body&&!i.getAttribute(t);)i=i.parentElement;return i!==document.body?i:null},t.prototype._getFormCode=function(n){if(n){var t=n.getAttribute("href"),i=Microsoft.Maps.Internal.AtlasHelper;if(i&&t)return i._getUrlParam(location.origin+t,"form")}return null},t._sydneyShown=!1,t._initInvoked=!1,t}(),u=window;u.Microsoft=u.Microsoft||{};var n=u.Microsoft.Maps=u.Microsoft.Maps||{},i=n.Internal=n.Internal||{},f=function(){function t(n){var t=this;this._mapOptions=n;this._logOnMapIdle=function(){var s,h,r,u;if(t._isTaskLoadStarted){(h=(s=t._mapShell)===null||s===void 0?void 0:s.getAzureMap())===null||h===void 0?void 0:h.events.remove("idle",t._logOnMapIdle);r=i.PerfV2Logger;u=Date.now()-r.getStartTime("Maps_SOPLT");sj_evt.fire("v9OverlayPLT",u);var f=i.Helper,e=t._mapOptions.searchQueryCategory,n="";f._isHotelsCategory(e)?n="Maps_SOHPLT":f._isRestaurantCategory(e)?n="Maps_SORPLT":f._isHouseCategory(e)?n="Maps_SOREPLT":f._isAttractionCategory(e)?n="Maps_SOAPLT":typeof o!="undefined"&&t instanceof o&&(n="Maps_SOTPLT");n&&r.record(n,u);r.record("Maps_SOPLT",u)}};sj_evt.bind("TaskDisplayed",function(n){t._onTaskDisplayed(n[1])});this._subscribeForCacheIdAndMapBoundsChangedEventForHotels();this._navigateToMapsVertical=!0;this.setOverlayType();this._setupTestHooks()}return t.prototype.getMapOptions=function(){return this._mapOptions},t.prototype.bootstrap=function(){var i=n.globalConfig.dynamicProperties,t;i.serpIG=_G&&_G.IG;i.impressionGuid=_G.IG;this._createShell();sj_evt.fire("mapOverlayLoaded",this);this._mapOptions.testHooks&&this._mapOptions.containerId&&(t=_ge(this._mapOptions.containerId),t&&t.setAttribute("data-mapLoaded","true"))},t.prototype.showOrHideOverlay=function(t,r,u){var f=this,o,s,e,c,l;u===void 0&&(u=!0);e=i.PerfV2Logger;e===null||e===void 0?void 0:e.tryFlush();this._isTaskLoadStarted=!1;this._setGlobalStates(t);t?(this._isResultsWithDetailsOverlay=r instanceof h,e===null||e===void 0?void 0:e.setStartTime("Maps_SOPLT",!1),this._logOverlayExpansion(),this._createShell().then(function(){f._mapShell.setView(r===null||r===void 0?void 0:r.getBestMapView(),function(){f._loadShellComponents().then(function(){var t,i=n.globalConfig.dynamicProperties;i.prefetchingResultsOnSerp=!0;f.injectOrRemoveSkeleton(!0);f._attachOrRemoveBrowserPrintMessage(!0);f._setOverlayPosition(!0);f._processPermalinkState(r.getPermalinkState(i.serpIG),u);f._logPerfCounters();(t=f.serializableObjectChanged)===null||t===void 0?void 0:t.invoke({magnitude:2});sj_evt.fire("LargeMapShown",f);sj_evt.bind("ajaxReady",function(){var n;(n=f._browserHistoryManager)===null||n===void 0?void 0:n.updateAddressBar("/maps")},1)})})})):(c=document.querySelector(".streetsideExit"),c&&c.click(),l=(o=this._mapShell)===null||o===void 0?void 0:o.getTaskManager(),l&&(l.isOverlayClosing=!0),Microsoft.Maps.GlobalDataEventHandler.invokeHandler("data-task",{action:"removeAllStacks"}),this._setOverlayPosition(!1),(s=this._browserHistoryManager)===null||s===void 0?void 0:s.updateAddressBar("/search",!0),this._attachOrRemoveBrowserPrintMessage(!1),this.injectOrRemoveSkeleton(!1),sj_evt.fire("LargeMapHidden",this))},t.prototype.getLargeMapLinkPermalinkState=function(n,t,i){if(t){var r=i?this._getSpecificElementForGroup(t,i):this._getExploreMoreElement(n);if(r)return r.getAttribute(t)}return null},t.prototype._getSpecificElementForGroup=function(n,t){if(n){var i="div[".concat(n,"]");return t&&(i+='[data-groupindex="'.concat(t,'"]')),document.querySelector(i)}return null},t.prototype._getExploreMoreElement=function(n){var r="mv_lm",u=".mv_lm.icon",t=null,i;return(n&&(i=_ge(n),i&&(t=i.querySelector("#"+r)||i.querySelector(u))),t||(t=_ge(r)||_d.querySelector(u)),t)?t.parentElement:null},t.prototype.setOverlayType=function(){var i,r="maps",t=(i=this._mapOptions.searchQueryCategory)===null||i===void 0?void 0:i.toLowerCase();t.indexOf("attraction")>-1?r="attraction":(t==="hotel"||t==="restaurant")&&(r=t);n.globalConfig.dynamicProperties.overlayType=r},t.prototype.serialize=function(){return{}},t.prototype.deserialize=function(){var t,i=n.globalConfig.dynamicProperties,r=(t=this._mapShell)===null||t===void 0?void 0:t.getTaskManager();(i===null||i===void 0?void 0:i.isMapsOverlay)&&r&&r.getStacks().length===0&&(this._logBackButtonClick(),this.showOrHideOverlay(!1))},t.prototype.injectOrRemoveSkeleton=function(t){var o,c=n.globalConfig,s=c.features.taskFramework,r,h,e,u,f;if((s===null||s===void 0?void 0:s.showLoadingSkeleton)&&(r=(o=this._overlayContainer)===null||o===void 0?void 0:o.querySelector("#taskArea"),r))if(h=i.Helper,e=r.querySelector(".bm_loadSkeleton.taskLayoutSkeletonContainer.bm_l2NavLeft"),t){if(e)return;u=sj_ce("div",null,"bm_loadSkeleton taskLayoutSkeletonContainer bm_l2NavLeft");u.style.zIndex="1000";u.style.display="none";f=sj_ce("div",null,"bm_skCombinedWrapper");f.appendChild(h.buildSkeletonCardContainer("bm_skeletonResults"));f.appendChild(h.buildSkeletonCardContainer("bm_skeletonDetails"));u.appendChild(f);this._isResultsWithDetailsOverlay&&f.classList.add("bm_skSlideCard");r.appendChild(u)}else e&&r.removeChild(e)},t.prototype._attachOrRemoveBrowserPrintMessage=function(t){var r=_d.getElementById("b_content"),o=r.parentElement,s=n.globalConfig.dynamicProperties,u,e,f,i;t?(r.classList.add("mapOverlayOnSerp"),i=sj_ce("div","defaultPrintMessage","MicrosoftMap defaultPrintMessage showPrintErrorMessage"),i.setAttribute("data-tag","defaultPrintMessage"),u=sj_ce("span","printErrorMessage","printErrorMessage"),e=s.defaultPrintMessage,u.setAttribute("data-text",e),u.append(e),f=sj_ce("img","printErrorImage","printErrorImage rms_img"),f.setAttribute("data-tag","printErrorImage"),f.setAttribute("src",s.defaultPrintImage),i.append(u),i.append(f),o.insertBefore(i,r)):(r.classList.remove("mapOverlayOnSerp"),i=o.querySelector(".defaultPrintMessage"),i&&i.parentElement.removeChild(i))},t.prototype._subscribeForCacheIdAndMapBoundsChangedEventForHotels=function(){var n=this;sj_evt.bind("hotelsPricepoiDataUpdate",function(t){var i,r,u;n._cacheIdForHotelPricePois=(i=t[1])===null||i===void 0?void 0:i.cacheId;n._mapBoundsForHotelPricePois=(u=(r=t[1])===null||r===void 0?void 0:r.mapBounds)===null||u===void 0?void 0:u.split(",").map(Number)})},t.prototype._processPermalinkState=function(t,i){var u,f,r,e;i===void 0&&(i=!0);u=t&&t[0]&&t[0].data;u&&(f=JSON.parse(u),r=this._getLocalListingTaskState(f),r.hotelPrimerPois=r.primerPois,r.originalQuery=r.query,i&&(this._cacheIdForHotelPricePois||this._mapBoundsForHotelPricePois)&&(r.cacheId=this._cacheIdForHotelPricePois,this._mapBoundsForHotelPricePois&&(r.mapBounds=this._mapBoundsForHotelPricePois)),!i&&r.primerPois&&(r.primerPois=null),t[0].data=JSON.stringify(f));this._permalinkProcessor&&(e=n.globalConfig.dynamicProperties,e.mapsOverlayProcessingPermalink=!0,this._permalinkProcessor.processSharedStates(t,this._mapShell),e.mapsOverlayProcessingPermalink=!1)},t.prototype._logPerfCounters=function(){var i=this,t=this._mapShell,n=t===null||t===void 0?void 0:t.getAzureMap();n&&n.mapReady.then(function(){n.events.remove("idle",i._logOnMapIdle);n.events.add("idle",i._logOnMapIdle)})},t.prototype._onTaskDisplayed=function(n){(!this._isResultsWithDetailsOverlay||(n===null||n===void 0?void 0:n.indexOf("DetailsTask"))>-1)&&(this._isTaskLoadStarted=!0)},t.prototype._logOverlayExpansion=function(){var t=n.globalConfig.dynamicProperties;n.logger.logObject({feature:"OverlayExpansion",T:"CI.ExpandContent",FID:"OverlayExpansion"},t.serpIG)},t.prototype._logBackButtonClick=function(){var t={feature:"Browser",action:"C",data:{overlay:n.globalConfig.dynamicProperties.overlayType||"",CN:"BackButton"}};n.logger.logObject(t)},t.prototype._setGlobalStates=function(t){var r=n.globalConfig,i=r.dynamicProperties;t?(_w.dOSBVC=!0,i.isMapsOverlay=!0,i.impressionGuid=i.mapsIG,r.features.localGuide.showLocalGuideOnLaunch=!1,_G.IG=i.mapsIG):(_w.dOSBVC=!1,i.isMapsOverlay=!1,_G.IG=i.serpIG);this._showOrHideCorpFeedback(t);this._showOrHideNewBingNotification(t)},t.prototype._showOrHideCorpFeedback=function(n){var i=document.getElementById("fbpgbt"),t;i&&(i.style.display=n?"none":"");n||(t=document.querySelector(".feedbackPopOut .hidePopoutButton"),t&&(t.style.display="none"))},t.prototype._showOrHideNewBingNotification=function(n){var t=document.getElementById("b_opalpers");t&&(t.style.display=n?"none":"")},t.prototype._loadShellComponents=function(){var n=this,t=this._componentsPromise;return t||(t=new Promise(function(t){var r=n._mapShell.getContainer();r.instanceAsyncAll([{name:"Permalink"},{name:"BrowserHistoryManager"}],function(r){n._permalinkProcessor=r.Permalink;n._browserHistoryManager=r.BrowserHistoryManager;n.serializableObjectChanged=new i.JSEvent;n._browserHistoryManager.register("BootstrapMapsAnswer",n);t()})}),this._componentsPromise=t),t},t.prototype._getLocalListingTaskState=function(n){var t,r,o,u,i,f,e;if(n&&n.stacks)for(t=0,r=n.stacks;t<r.length;t++)if(o=r[t],u=o.tasks,u)for(i=0,f=u;i<f.length;i++)if(e=f[i],e.type==="LocalListing")return e.state;return n},t.prototype._createOverlayElements=function(){var t,r,u,f,n,i;this._overlayContainer||(t=this._overlayContainer=sj_ce("div","b_mapOverlay","b_mapOverlay noMapTypeBuffer MicrosoftMap largeMap mapsOverlay"),r=t.style,r.zIndex="1000",t.addEventListener("mousewheel",function(n){n.stopPropagation()}),t.addEventListener("touchmove",function(n){n.stopPropagation()}),n=sj_ce("div",null,"b_mapShell MicrosoftMap"),n.setAttribute("data-global","{}"),n.setAttribute("data-tag","Shell.MapContainer"),n.append(sj_ce("div",undefined,"mapBannerContainer"),sj_ce("div","taskBarContainer"),u=sj_ce("div","mapContainer","mapContainer"),f=sj_ce("div","taskArea")),i=sj_ce("div"),i.setAttribute("data-tasklayout",'{"defaultLayout":"MultiCardLeftLayout","cardPrimerShown":false}'),f.append(i),this._mapContainer=u,this._shellContainer=n,t.append(n))},t.prototype._createShell=function(){var t=this,r=this._shellPromise;return r||(this._createOverlayElements(),r=new Promise(function(r){var u=function(i){i.getAzureMapFirstIdle().then(function(){sj_evt.fire("maps:shellLoaded",t)});t._mapShell=i;n.mapShell=i;i.controlsLoaded.addOne(function(){t._attachCloseHandler()},!1,!0);r(i)},f=i.dependencyResolver,e=n.globalContainer;f.resolveBySourceKey("MapOverlayCss",function(){e.instanceAsync("MapShell",u,{mapContainerElementOrId:t._mapContainer,shellContainerElementOrId:t._shellContainer})})}),this._shellPromise=r),r},t.prototype._attachCloseHandler=function(){var r=this,n,t,i=this._mapShell;(t=(n=i===null||i===void 0?void 0:i.getTaskBar())===null||n===void 0?void 0:n.closeOverlay)===null||t===void 0?void 0:t.add(function(){r.showOrHideOverlay(!1)})},t.prototype._setOverlayPosition=function(t){var o,s,h,c,i=_ge("b_header"),r=_ge("b_footer"),u=_d.body,y=_d.getElementsByTagName("html"),p=y.length>0?y[0]:null,l=this._overlayContainer,f,e;if(t){var a=n.globalConfig.features.taskBar,v=0;i&&(u.style.minWidth="".concat(a.windowMinWidth,"px"),u.style.minHeight="".concat(a.windowMinHeight,"px"),u.style.overflow="hidden",(o=_ge("b_content"))===null||o===void 0?void 0:o.classList.add("v9OverlayMap"),r===null||r===void 0?void 0:r.classList.add("b_slimFoot"),this._showOrHideIdControls(i,!0));typeof Identity!="undefined"&&(this._identityLoginMode=Identity.headerLoginMode,Identity.headerLoginMode=1);this._overlaySize=this._getOverlaySize(v);r&&(this._overlaySize.height-=30,v=30);this._serpScrollYPos=window.scrollY;window.scrollTo(0,0);f=this._getContentArea();(f===null||f===void 0?void 0:f.firstChild)&&f.insertBefore(l,f.firstChild);e=l.style;e.top="".concat(0,"px");e.height="calc(100vh - ".concat(v,"px)");e.width="100vw";this._adjustOverlayScroll(i,u,p,!0);(i===null||i===void 0?void 0:i.classList.contains("b_slimHead"))&&(i.style.minWidth="".concat(a.windowMinWidth,"px"));(h=(s=this._mapShell)===null||s===void 0?void 0:s.getAzureMap())===null||h===void 0?void 0:h.resize()}else l.remove(),u.removeAttribute("style"),this._showOrHideIdControls(i,!1),(c=_ge("b_content"))===null||c===void 0?void 0:c.classList.remove("v9OverlayMap"),r===null||r===void 0?void 0:r.classList.remove("b_slimFoot"),typeof Identity!="undefined"&&(Identity.headerLoginMode=this._identityLoginMode),window.scrollTo(0,this._serpScrollYPos),this._adjustOverlayScroll(i,u,p,!1)},t.prototype._adjustOverlayScroll=function(n,t,i,r){var u,f,e;sb_de.style.overflowX=sb_de.style.overflowY=r?"hidden":"auto";(u=n===null||n===void 0?void 0:n.classList)===null||u===void 0?void 0:u[r?"add":"remove"]("b_slimHead","bm_oneMap");(f=t===null||t===void 0?void 0:t.classList)===null||f===void 0?void 0:f[r?"add":"remove"]("bm_oneMap");(e=i===null||i===void 0?void 0:i.classList)===null||e===void 0?void 0:e[r?"add":"remove"]("bm_oneMap")},t.prototype._showOrHideIdControls=function(n,t){var i=n===null||n===void 0?void 0:n.querySelector("#id_h"),f;if(i){var r=i.querySelector("#id_l"),u=i.querySelector("#id_rh"),e=t?"add":"remove";r===null||r===void 0?void 0:r.classList[e]("hide");u===null||u===void 0?void 0:u.classList[e]("hide");t?this._adjustIdHeight(i):(f=i.style.top,f&&f.indexOf("px")>0&&(i.style.top="0"))}},t.prototype._adjustIdHeight=function(n){var t=_d.querySelector(".bm_outingsBase");if(t){var i=t.clientHeight,r=parseFloat(_w.getComputedStyle(n).top),u=Math.abs(r-i);n.style.top="".concat(u,"px")}},t.prototype._getOverlaySize=function(n){var t=_w.innerWidth||sb_de.clientWidth||_d.body.clientWidth,i=_w.innerHeight||sb_de.clientHeight||_d.body.clientHeight;return{width:t,height:i-n}},t.prototype._setupTestHooks=function(){var t=this;sj_evt&&n.globalConfig.testHooksAllowed&&sj_evt.bind("LargeMapShown",function(){t._mapContainer&&t._mapContainer.setAttribute("overlayShownTestHook","1")})},t.prototype._getContentArea=function(){return _ge("b_content")},t}(),e=function(n){function i(t){var i=n.call(this,t)||this;return console.log("ctor BootstrapMapsAnswerForMapOverlay place holder"),i}return t(i,n),i.getInstance=function(n){return f._bootstrapper||(f._bootstrapper=new i(n)),f._bootstrapper},i}(f);i.BootstrapMapsAnswerForMapOverlay=e;c=function(i){function r(n){var t=i.call(this,n)||this;return console.log("ctor BootstrapMapsAnswerForEntityOverlay place holder"),t}return t(r,i),r.prototype.setOverlayType=function(){var t,r="local",i=(t=this._mapOptions.searchQueryCategory)===null||t===void 0?void 0:t.toLowerCase();(i==="hotel"||i==="restaurant")&&(r=i);n.globalConfig.dynamicProperties.overlayType=r},r}(e);i.BootstrapMapsAnswerForEntityOverlay=c;l=function(i){function r(n){var t=i.call(this,n)||this;return console.log("ctor BootstrapMapsAnswerForEntityOverlay place holder"),t}return t(r,i),r.prototype.setOverlayType=function(){var i="realestate",r=this.getLargeMapLinkPermalinkState(null,"data-detailsoverlay",null),t;r&&(t=JSON.parse(r),(t===null||t===void 0?void 0:t.entitySubSegment)==="apartment"&&(i="apartment"));n.globalConfig.dynamicProperties.overlayType=i},r}(e);i.BootstrapMapsAnswerForRealEstateOverlay=l;o=function(i){function r(n){var t=i.call(this,n)||this;return console.log("ctor BootstrapMapsAnswerForTravelOverlay place holder"),t}return t(r,i),r.prototype.setOverlayType=function(){n.globalConfig.dynamicProperties.overlayType="travel"},r}(e);i.BootstrapMapsAnswerForTravelOverlay=o;a=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return t(i,n),i.init=function(){i._initialized||(i._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=i._getObject();t._subscribeForClickEventsOnDataElements(n[1])}}))},i.prototype.getBestMapView=function(){var n=JSON.parse(this._attrVal),t=null;return n&&(t={center:[n.centerLongitude,n.centerLatitude],zoom:n.mapZoom}),t},i.prototype._subscribeForClickEventsOnDataElements=function(t){var r=this;n.prototype._subscribeForClickEventsOnDataElements.call(this,t);sj_evt.bind("ShowBasicMapOverlay",function(n){var f,t,u,e;n&&(f=n[1],t=n[2],f&&t?r._processAttribute(t,JSON.stringify(f)):t&&(u=_d.querySelectorAll("["+i._attrName+"]"),u&&u[0]&&(e=u[0].getAttribute(i._attrName),r._processAttribute(t,e))))})},i.prototype._getFeatureState=function(){return null},i._getObject=function(){return i._self||(i._self=new i(i._attrName,i._featureName)),i._self},i._attrName="data-basicmapoverlay",i._featureName="compositemapMode",i}(r);a.init();v=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return t(r,i),r.init=function(){r._initialized||(r._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=r._getObject();t._subscribeForClickEventsOnDataElements(n[1])}},1))},r.prototype.getBestMapView=function(){var n=JSON.parse(this._attrVal),t=null;return n&&(n.centerLongitude&&n.zoom!==-1?t={center:[n.centerLongitude,n.centerLatitude],zoom:n.zoom}:n.mapBounds&&n.mapBounds.length===4&&(t={bounds:[n.mapBounds[1],n.mapBounds[2],n.mapBounds[3],n.mapBounds[0]]})),t},r.prototype._subscribeForClickEventsOnDataElements=function(t){var r=this;i.prototype._subscribeForClickEventsOnDataElements.call(this,t);sj_evt.bind("ShowDetailsMapOverlay",function(t){if(t){var i=t[1],u=t[2],f=n.globalConfig.features.localSearch,e=typeof t[3]=="undefined"||f.enableTopicSearchExperience&&t.length>3&&t[3]===!0,o=Microsoft.Maps.Internal._Gimme;i&&i.localDetailsState&&i.localDetailsState.query&&u&&r._processAttribute(u,o.Internals.stringify(i),e,t[4])}})},r.prototype._getFeatureState=function(n){var i=JSON.parse(this._attrVal),t=i.localDetailsState;return t.disableComputingMapViewForLoadingOnly=!1,t.originIG=n,JSON.stringify(t)},r._getObject=function(){return r._self||(r._self=new r(r._attrName,r._featureName)),r._self},r._attrName="data-detailsoverlay",r._featureName="localDetails",r}(r);v.init();y=function(n){function i(t,i){var r=n.call(this,t,i)||this;return sj_evt.bind("DirectionsAnswerUpdateRequested",function(){r._clearDataElementClickHandlers()}),r}return t(i,n),i.init=function(){i._initialized||(i._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=i._getObject();t._subscribeForClickEventsOnDataElements(n[1]);sj_evt.bind("DirectionButtonClicked",function(n){t._processClickEvent(n&&n[1])})}}))},i.prototype.getBestMapView=function(){var n=JSON.parse(this._attrVal),f=null,t,i,u,e,r;if(n&&n.waypoints&&n.waypoints.length===2){for(t=[],i=0,u=n.waypoints;i<u.length;i++)e=u[i],r=e.point,r&&t.push([r.longitude,r.latitude]);t.length>0&&(f={bounds:atlas.data.BoundingBox.fromPositions(t)})}return f},i.prototype._subscribeForClickEventsOnDataElements=function(t){var i=this;n.prototype._subscribeForClickEventsOnDataElements.call(this,t);sj_evt.bind("ShowDirectionsMapOverlay",function(n){if(n&&n[1]){var t=n[3]?n[3]:1,r=n[1],u={mode:t,waypoints:r,entryPoint:"4",mapsEntryPointState:{answerScenario:"DirectionsAnswer",answerService:"DirectionOpenLocation",segment:"Directions",region:"Top_of_Page",entryPoint:"Show_Directions_Overlay"}};i._processAttribute(n[2],JSON.stringify(u))}})},i.prototype._getFeatureState=function(){return this._attrVal},i._getObject=function(){return i._self||(i._self=new i(i._attrName,i._featureName)),i._self},i._attrName="data-directionoverlay",i._featureName="directions",i}(r);y.init();p=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return t(i,n),i.init=function(){i._initialized||(i._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=i._getObject();t._subscribeForClickEventsOnDataElements(n[1]);sj_evt.bind("ItineraryDetailsOverlayElementsAdded",function(){i._overlayElementsAdded||(i._overlayElementsAdded=!0,t._bindClickEventsOnDataElements(_d))},1)}}))},i._getObject=function(){return i._self||(i._self=new i(i._attrName,i._featureName)),i._self},i._attrName="data-itinerarydetailsoverlay",i._featureName="itineraryDetails",i}(r);p.init();w=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return t(i,n),i.init=function(){i._initialized||(i._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=i._getObject();t._subscribeForClickEventsOnDataElements(n[1])}}))},i._getObject=function(){return i._self||(i._self=new i(i._attrName,i._featureName)),i._self},i._attrName="data-myplacesoverlay",i._featureName="collections",i}(r);w.init();s=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return t(r,i),r.init=function(){r._initialized||(r._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=r._getObject();t._subscribeForClickEventsOnDataElements(n[1])}}))},r.prototype.getBestMapView=function(){var t=JSON.parse(this._attrVal),i=null,n=t===null||t===void 0?void 0:t.mapBounds;return(n===null||n===void 0?void 0:n.length)===4&&(i={bounds:[n[1],n[2],n[3],n[0]]}),i},r.prototype._subscribeForClickEventsOnDataElements=function(t){var u=this;i.prototype._subscribeForClickEventsOnDataElements.call(this,t);sj_evt.bind("ShowResultsMapOverlay",function(t){var h,f,c,a,l;if(t){var i=t[1],o=t[2],v=n.globalConfig.features.localSearch,s=typeof t[3]=="undefined"||v.enableTopicSearchExperience&&t.length>3&&t[3]===!0,e=i;if(i&&i.query&&o)u._processAttribute(o,JSON.stringify(i),s,t[4]);else{if(h=i&&i.mapId,f=null,f=h?_d.querySelectorAll("#"+h+" ["+r.attrName+"]"):_d.querySelectorAll("["+r.attrName+"]"),e&&e.groupIndex)if(c=u._getSpecificElementForGroup(r.attrName,i.groupIndex),c!==null)f=[c];else if(e.filterQuery){i.query=e.filterQuery;u._processAttribute(o,JSON.stringify(i),s,t[4]);return}f&&f[0]&&(a=f[0].getAttribute(r.attrName),l=JSON.parse(a),t.length>5&&t[5]&&(l.mapsEntryPointState=t[5]),u._processAttribute(f[0],JSON.stringify(r.getPermalinkStateFromFeatureState(i,l)),s,t[4]))}}})},r.prototype._getSpecificElementForGroup=function(n,t){if(n===void 0&&(n=null),t===void 0&&(t=null),n){var i="div[".concat(n,"]");return t&&(i+='[data-groupindex="'+t+'"]'),_qs(i)}return null},r.prototype._getFeatureState=function(n){var t=JSON.parse(this._attrVal);return t.originIG=n,t.disableComputingMapViewForLoadingOnly=!1,sj_evt.fire("ResultsOverlayActivating"),JSON.stringify(t)},r._getObject=function(){return r._self||(r._self=new r(r.attrName,r._featureName)),r._self},r.getPermalinkStateFromFeatureState=function(n,t){var i=t;return i.poiCount=n&&n.poiCount?n.poiCount.toString():null,i.poiCount||(i.poiCount=t.poiCount?t.poiCount.toString():""),i.disableComputingMapViewForLoadingOnly=n&&n.filter?!1:i.disableComputingMapViewForLoadingOnly,i.localFilters=n&&n.filter?n.filter:i.localFilters,i.cacheId=n&&n.filter?null:i.cacheId,i},r.attrName="data-resultsoverlay",r._featureName="localListing",r}(r);s.init();h=function(r){function u(n,t){var i=r.call(this,n,t)||this;return i._listingsDomClassSelector=".listings-item",i._openDetailsCardWrapper=function(n){i._openDetailsCard(n)},i._detailsCardPrefetchCompleteWrapper=function(n){i._onDetailsCardPrefetchComplete(n)},i}return t(u,r),u.init=function(){u._initialized||(u._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=u._getObject();t._subscribeForClickEventsOnDataElements(n[1])}}))},u.prototype.getBestMapView=function(){var n=JSON.parse(this._attrVal);return n.center?{center:[n.center[1],n.center[0]],zoom:n.zoom||16}:null},u.prototype.getPermalinkState=function(n){return this._getFeatureStateForResults(n)},u.prototype._getFeatureStateForResults=function(n){var t=JSON.parse(this._attrVal);return t.localListingsState.disableComputingMapViewForLoadingOnly=!1,t.localListingsState.originIG=n,t.localListingsState.entityIndex=t.entityIndex,this._buildPermalinkState(u._featureName,t.localListingsState)},u.prototype._buildPermalinkState=function(n,t){return[{featureType:n,data:JSON.stringify(t)}]},u.prototype._processAttribute=function(n,t,i,u){i===void 0&&(i=!0);r.prototype._processAttribute.call(this,n,t,i,u);this._prefetchDetailsCardContent()},u.prototype._processClickEvent=function(n){sj_evt.bind("MapSearchTaskActivated",this._openDetailsCardWrapper);r.prototype._processClickEvent.call(this,n)},u.prototype._onDetailsCardPrefetchComplete=function(n){this._openDetailsCardInternal(n)},u.prototype._openDetailsCard=function(t){n.globalConfig.dynamicProperties.prefetchingDetailsOnSerp?sj_evt.bind("OnDetailsCardPrefetch",this._detailsCardPrefetchCompleteWrapper):this._openDetailsCardInternal(t)},u.prototype._openDetailsCardInternal=function(t){var a,v,i=JSON.parse(this._attrVal),f,e=t&&t[1],h,u,c,y,o,s,r,p,w;if(i&&(i.id?f=this._getDetailCardFromResponseOrDom(i.id,null,e):i.query&&(f=this._getDetailCardFromResponseOrDom(null,i.query,e))),!f&&i&&i.id&&(u=document.querySelectorAll(this._listingsDomClassSelector+"[data-task]"),e&&e.length>0&&(!u||u.length===0)&&(u=e[0].querySelectorAll(this._listingsDomClassSelector+"[data-task]")),u&&u.length!==0||(u=document.querySelectorAll(this._listingsDomClassSelector),e&&e.length>0&&(!u||u.length===0)&&(u=e[0].querySelectorAll(this._listingsDomClassSelector))),u&&u.length>0))if(c="data-entity",i.id){f=u[0];var b=f.getAttribute(c),o=JSON.parse(b),l=(a=o===null||o===void 0?void 0:o.entity)===null||a===void 0?void 0:a.id;l&&(h=l.replace(l.substring(l.indexOf(":")+1),i.id))}else this._prefetchedDetailsCardData&&this._prefetchedDetailsCardData.select(".overlay-taskpane").length>0&&(f=u[0],y=this._prefetchedDetailsCardData.select("[".concat(c,"]")).get_attr(c),o=y&&JSON.parse(y),h=(v=o===null||o===void 0?void 0:o.entity)===null||v===void 0?void 0:v.id);f&&(s=JSON.parse(f.getAttribute("data-task")),r=s&&s.state?s.state:{},r.disableComputingMapViewForLoadingOnly=!1,r.content=this._prefetchedDetailsCardData,this._prefetchedDetailsCardData&&(r.suppressAnimationWhileSlideOut=!0),h&&(r.id=h,r.query=r.taskTitle=i.query),r.adProviderId=i.adProviderId,r.adStoreId=i.adStoreId,r.adQuery=i.adQuery,r.adYpid=i.adYpid,r.adImpressionGuid=i.adImpressionGuid,r.adRetailEntitySource=i.adRetailEntitySource,r.adBusinessLocationId=i.adBusinessLocationId,r.adTriggerType=i.adTriggerType,r.adsRLinkUrl=i.adsRLinkUrl,r.useBfpr=i.useBfpr,r.isCategoryQuery=i.isCategoryQuery,r.launchOverflowTaskOnTaskActivate=i.launchOverflowTask,r.productRootKeyword=i.productRootKeyword,r.isSerpClickthrough=!0,Microsoft.Maps.GlobalDataEventHandler.invokeHandler("data-task",s),p=Microsoft.Maps.logger,w=n.globalConfig.dynamicProperties.serpIG,p&&p.logObject({T:"CI.OverlayEntClick",feature:"OverlayControl",action:"CI.OverlayEntClick",data:{}},w,!1));sj_evt.unbind("MapSearchTaskActivated",this._openDetailsCardWrapper);sj_evt.unbind("OnDetailsCardPrefetch",this._detailsCardPrefetchCompleteWrapper)},u.prototype._getDetailCardFromResponseOrDom=function(n,t,i){var u=Microsoft.Maps.Internal.Gimme,r=this._getDetailCardFromListings(u(document).select(this._listingsDomClassSelector),n,t);return!r&&i&&(r=this._getDetailCardFromListings(i.select(this._listingsDomClassSelector),n,t)),r},u.prototype._getDetailCardFromListings=function(n,t,i){var e,u,c,f,o,r,s,h;if(n&&n.length)for(u=0,c=n.length;u<c;u++)if(f=n[u],o=f.getAttribute("data-entity"),o)if(r=JSON.parse(o),t){if(s=(e=r===null||r===void 0?void 0:r.entity)===null||e===void 0?void 0:e.id,s&&s.indexOf(t)>0)return f}else if(i&&(h=r&&r.entity&&r.entity.title,h&&h===i))return f;return null},u.prototype._prefetchDetailsCardContent=function(){var o=this,t,r,u,f,e;this._prefetchedDetailsCardData=null;t=JSON.parse(this._attrVal);r="";switch(t.entityType){case"Satori":r="sid:";break;case"Business":r="ypid:"}u=n.globalContainer;f=i.Helper;u&&f&&(e=f._overrideTasktypeBasedOnCategory("LocalDetailsTask",t&&t.localListingsState),u.instanceAsync(e,function(i){var u=t;u.id=r?r+u.id:null;u.disableTaskActivate=!0;u.disableWideCard=!0;u.originalQuery=t&&t.localListingsState&&t.localListingsState.query;n.globalConfig.dynamicProperties.prefetchingDetailsOnSerp=!0;i.process({requestState:u},function(t){o._prefetchedDetailsCardData=t&&t.data&&t.data.content;n.globalConfig.dynamicProperties.prefetchingDetailsOnSerp=!1;sj_evt.fire("OnDetailsCardPrefetch")})}))},u.prototype._subscribeForClickEventsOnDataElements=function(n){var t=this;r.prototype._subscribeForClickEventsOnDataElements.call(this,n);sj_evt.bind("ShowResultsWithDetailsMapOverlay",function(n){var i,h,r,e,o,c,w,a,v,f;if(n&&n[1]&&(i=n[1],i))if(h=i.mapId,r=null,r=h?document.querySelectorAll("#"+h+" ["+u._attrName+"]"):document.querySelectorAll("["+u._attrName+"]"),e=n[2]&&n[2].hasAttribute(u._explicitlyPassedAttrName),!i.location&&(r===null||r===void 0?void 0:r.length)>0)for(o=0,c=Array.from(r);o<c.length;o++){var y=c[o],l=y.getAttribute(u._attrName),f=JSON.parse(l);if(i.title&&f.query===i.title||i.id.indexOf(f.id)>=0){t._processAttribute(y,l);return}}else if((r===null||r===void 0?void 0:r.length)>0||e){var p=e?n[2]:r[0],l=p.getAttribute(e?u._explicitlyPassedAttrName:u._attrName),f=JSON.parse(l);f.disableComputingMapViewForLoadingOnly=!1;f.localListingsState&&(i.filter&&(f.localListingsState.filterUrlParam=i.filter),i.poiCount&&(f.localListingsState.poiCount=i.poiCount));w=u._getPermalinkStateFromFeatureState(i,f);t._processAttribute(p,JSON.stringify(w))}else if(a=t._overlayObject.getLargeMapLinkPermalinkState(i.mapId,s.attrName,i.groupIndex),a)v=JSON.parse(a),n.length>5&&(v.mapsEntryPointState=n[5]),f={query:i.title,id:i.id,center:i.location,localListingsState:v,disableComputingMapViewForLoadingOnly:!1,entryPoint:"Permalink",entityType:i.entityType,adProviderId:i.adProviderId,adStoreId:i.adStoreId,adQuery:i.adQuery,adYpid:i.adYpid,adImpressionGuid:i.adImpressionGuid,adRetailEntitySource:i.adRetailEntitySource,adBusinessLocationId:i.adBusinessLocationId,adTriggerType:i.adTriggerType,adsRLinkUrl:i.adsRLinkUrl,useBfpr:i.useBfpr,isCategoryQuery:i.isCategoryQuery,formCode:i.formCode,launchOverflowTask:i.launchOverflowTask,productRootKeyword:i.productRootKeyword,mapsEntryPointState:n.length>5?n[5]:null},t._processAttribute(r[0],JSON.stringify(f),!0,n[4]);else throw new Error("Unable to show results with details overlay");})},u._getPermalinkStateFromFeatureState=function(n,t){return{query:n.title,id:n.id,center:n.location,localListingsState:t.localListingsState,disableComputingMapViewForLoadingOnly:!1,entryPoint:"Permalink",entityType:n.entityType,originIG:t.originIG,isBookingModuleEntryPoint:n.isBookingModuleEntryPoint}},u._getObject=function(){return u._self||(u._self=new u(u._attrName,u._featureName)),u._self},u._explicitlyPassedAttrName="data-altresultswithdetailsoverlay",u._attrName="data-resultswithdetailsoverlay",u._featureName="localListing",u}(r);h.init();b=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return t(r,i),r.init=function(){var t=this,n;r._initialized||(r._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=r._getObject();t._subscribeForClickEventsOnDataElements(n[1]);t._hookUpSaveDropdown();t._preventGLinkPingForSaveButton()}}),n=_d.querySelectorAll(".SaveImgCtr"),n&&n.length>0&&n.forEach(function(n){n.addEventListener("click",function(){sj_evt.fire("SaveToMapCollection",t)})}))},r.prototype._subscribeForClickEventsOnDataElements=function(n){var t=this;i.prototype._subscribeForClickEventsOnDataElements.call(this,n);this._bindHoverEventsOnDataElements(_d);sj_evt.bind("ShowSaveMapOverlay",function(n){if(n){var i=_qs(".bm_save_overlay");t._processAttribute(i,JSON.stringify({entryPoint:13}))}})},r.prototype._bindHoverEventsOnDataElements=function(n){var u=this,t=n.querySelectorAll("["+r._attrName+"]"),i,f;if(t&&t.length>0)for(i=0,f=t.length;i<f;i++)sj_be(t[i],"mouseenter",function(n){return u._processMouseEnterEvent(n)}),sj_be(t[i],"mouseleave",function(n){return u._processMouseLeaveEvent(n)})},r.prototype._processClickEvent=function(n){var t=this;n.preventDefault();r._saveDropdown&&r._saveDropdown.saveOnSerpClicked(function(n){return t._changeSaveButtonToSaved(n)})},r.prototype._processMouseEnterEvent=function(n){n.preventDefault();r._saveDropdown&&r._saveDropdown.saveOnSerpMouseEnter()},r.prototype._processMouseLeaveEvent=function(n){n.preventDefault();r._saveDropdown&&r._saveDropdown.saveOnSerpMouseLeave()},r.prototype._getFeatureState=function(){return this._attrVal},r.prototype._hookUpSaveDropdown=function(){var u=this,t=_qs(".bm_save_overlay"),i;t&&(i=n.globalContainer,i&&i.instanceAsync("SaveDropdownControl",function(n){var e,o,f,i,s;t.style.setProperty("pointer-events","all");e=JSON.parse(t.getAttribute(r._attrName));n.setEntityInformation(e);n.setShowSaveButton(!1);o=t.getAttribute("data-signinurl");n.signInUrl=o;r._saveDropdown=n;f=_qs("#b_content");i=t.querySelector("a");i&&(n.setLeftPosition(i.offsetLeft+i.offsetWidth/2),n.setTopPosition(i.offsetTop+i.offsetHeight+4));s=n.getControl();f&&f.appendChild(s[0]);n.checkSignInSave(function(n){return u._changeSaveButtonToSaved(n)})}))},r.prototype._preventGLinkPingForSaveButton=function(){var t=_qs(".bm_save_overlay"),n,i;t&&(n=t.querySelector("a"),n&&(i=n.getAttribute("data-h"),n.removeAttribute("data-h"),n.removeAttribute("h"),n.setAttribute("data-h1",i)))},r.prototype._changeSaveButtonToSaved=function(n){var t=_qs(".bm_save_overlay a"),r,u,i;t&&(t.classList.add("saved"),t.children.length?(r=t.querySelector("span"),r&&(r.textContent=n),u=t.querySelector("img"),u&&t.removeChild(u),i=_d.createElement("div"),i.className="savedIcon",r?t.insertBefore(i,r):(i.className="bm_saved "+i.className,t.appendChild(i))):t.textContent=n)},r.prototype._replaceSaveWithSavedImage=function(n,t,i){var r,u,f;i&&(r=i.querySelector("img"),r.parentElement.removeChild(r),u=n.select("img")[0],f=u.parentElement,f.removeChild(u),f.appendChild(r),t.classList.add("saved"))},r._getObject=function(){return r._self||(r._self=new r(r._attrName,r._featureName)),r._self},r._attrName="data-saveoverlay",r._featureName="collections",r}(r);b.init();k=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return t(u,r),u.init=function(){u._initialized||(u._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=u._getObject();t._renderStreetsideImage(null,null,function(i){u._streetsideModeState=u._parseStreetsideUrl(i);t._subscribeForClickEventsOnDataElements(n[1])})}}))},u.prototype._subscribeForLargeMapShown=function(){var n=this;this._showHandler=function(){n._showStreetside()};sj_evt.bind("LargeMapShown",this._showHandler)},u.prototype._showOrHideOverlay=function(n){r.prototype._showOrHideOverlay.call(this,n);!n&&this._showHandler&&(sj_evt.unbind("LargeMapShown",this._showHandler),this._showHandler=null)},u.prototype._showStreetside=function(){var r=this._overlayObject;r&&(r.streetsideLaunched=!0);var t=u._streetsideModeState,f=t.centerPoint,i={action:"showBubble",location:new n.Location(f.latitude,f.longitude),localDetailsStartupOptions:{}};t.direction&&(i.directionsStartupOptions={heading:t.direction},i.localDetailsStartupOptions.heading=t.direction);n.GlobalDataEventHandler.invokeHandler("data-streetside",i)},u.prototype._getFeatureState=function(){var n={featureType:"streetSide",data:JSON.stringify(u._streetsideModeState)||this._attrVal};return JSON.stringify(n)},u._parseStreetsideUrl=function(t){var r,f,u;return t?(r=i.AtlasHelper,r&&(f=parseFloat(r._getUrlParam(t,"dir")),u=r._getUrlParam(t,"cp").split("~"),f&&u.length===2))?{mode:2,centerPoint:new n.Location(u[0],u[1]),direction:f}:null:null},u._getObject=function(){return u._self||(u._self=new u(u._attrName,u._featureName)),u._self},u.prototype._renderStreetsideImage=function(n,t,i){function e(n){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",i=0;i<n.length;){var s=n.charCodeAt(i++)&255,r=n.charCodeAt(i++)&255,u=n.charCodeAt(i++)&255,h=s>>2,c=(s&3)<<4|r>>4,f=null,e=null;isNaN(r)?f=e=64:(f=(r&15)<<2|u>>6,e=isNaN(u)?64:u&63);o+=t.charAt(h)+t.charAt(c)+t.charAt(f)+t.charAt(e)}return o}var u=_ge("dm_street_replace"),f,r;u&&(f=u.getAttribute("data"),f)&&(r=new XMLHttpRequest,r.open("GET",f,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(){var t,n,s;if([400,404,500].indexOf(r.status)>-1){sj_evt.fire("StreetsideFailed");return}if(r.readyState===4&&r.status===200&&r.responseText&&(t=r.getResponseHeader("X-VE-SS-Url"),t)){typeof BSOExtensions!="undefined"&&(t=BSOExtensions.updateUrl(t));n=sj_ce("img");n.src="data:image/jpeg;base64,"+e(r.responseText);n.alt=" ";var f=u.parentElement,h=f.lastChild,o=h.textContent;f.appendChild(n);f.setAttribute("href",t);n.setAttribute("role","none");n.setAttribute("title",o);n.setAttribute("alt",o);s=f.parentElement;s.className="";i&&i(t)}},r.send(null))},u._attrName="data-streetsideoverlay",u._featureName="streetside",u}(r);k.init();d=function(n){function i(){return n!==null&&n.apply(this,arguments)||this}return t(i,n),i.init=function(){i._initialized||(i._initialized=!0,sj_evt.bind("mapOverlayLoaded",function(n){if(n&&n[1]){var t=i._getObject();t._subscribeForClickEventsOnDataElements(n[1])}}))},i.prototype.getBestMapView=function(){var n=JSON.parse(this._attrVal),t=null;return n&&(n.centerLongitude&&n.zoom!==-1?t={center:[n.centerLongitude,n.centerLatitude],zoom:n.zoom}:n.mapBounds&&n.mapBounds.length===4&&(t={bounds:[n.mapBounds[1],n.mapBounds[2],n.mapBounds[3],n.mapBounds[0]]})),t},i.prototype._getFeatureState=function(n){var i=JSON.parse(this._attrVal),t=i.localDetailsState;return t.disableComputingMapViewForLoadingOnly=!i.forceComputingMapViewForLoading,t.originIG=n,JSON.stringify(t)},i._getObject=function(){return i._self||(i._self=new i(i._attrName,i._featureName)),i._self},i._attrName="data-transitstopoverlay",i._featureName="transitStop",i}(r);d.init()}catch(g){if(n&&n.logger)n.logger.logCriticalError(g);else throw g;}}.call(window)